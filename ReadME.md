# í”„ë¡œì íŠ¸ 3. ë“œëŸ­ìŠ¤í† ì–´ íŒë§¤ì•¡ ì˜ˆì¸¡ëª¨ë¸

<aside>

### ëª©ì°¨

1. **ì„œë¡ :**  **í”„ë¡œì íŠ¸ ë°°ê²½ ë° ëª©ì **
    
    **1-1. ë°ì´í„° ì„ ì • ë° ìˆ˜ì§‘** 
    
    **1-2. ë°ì´í„° ì „ì²˜ë¦¬**
    
    **1-3. EDA ë¥¼ í†µí•œ ê°€ì„¤ ì„¤ì • ë° ë¬¸ì œì •ì˜**
    

1. **ë³¸ë¡ :**
    
    **2-1. ì˜ˆì¸¡ ëª¨ë¸ êµ¬í˜„ì„ ìœ„í•œ í•™ìŠµ ì§„í–‰ ë° ê²°ê³¼ í™•ì¸**
    
    - Linear Logistics - Lasso, Ridge
    - Decision Tree
    - Random Forest
    - XGboost

1. **ê²°ë¡ : ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ ë° í•´ì„ & ìµœì¢… ëª¨ë¸ ì„ ì •**
    
    **3-1. êµ¬í˜„ëœ ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸ ê²°ê³¼**
    
    **3-2. ìµœì¢… ëª¨ë¸ ì„ ì • : XGboost**
    
    **3-3. XGBoost ê¸°ë°˜ í–¥í›„ 6ì£¼ê°„ ë§¤ì¶œ ì˜ˆì¸¡**
    
2. **APPENDIX : ì½”ë“œ ë…¸íŠ¸** 
    
    [train_store.csv](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/train_store.csv)
    
- ê¹€ë¯¼ì£¼: EDA ë° íšŒê·€ëª¨ë¸
    
    [ML_Project_(1)_EDA.ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/ML_Project_(1)_EDA.ipynb)
    
    [ML_Project_(2)Corr,_ANOVA.ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/ML_Project_(2)Corr_ANOVA.ipynb)
    
    [ML_Project_(3)Linear_Regression_ML_Model.ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/ML_Project_(3)Linear_Regression_ML_Model.ipynb)
    
- ì´ìœ ë¦¬ : Decision Tree
    
    [3ì°¨í”„ë¡œì íŠ¸ (1).ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/3%25EC%25B0%25A8%25ED%2594%2584%25EB%25A1%259C%25EC%25A0%259D%25ED%258A%25B8_(1).ipynb)
    
- ì„ë™í˜„ : Random Forest
    
    [ê³µí†µFeaturesê¸°ë°˜ Random_Forest.ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25EA%25B3%25B5%25ED%2586%25B5Features%25EA%25B8%25B0%25EB%25B0%2598_Random_Forest.ipynb)
    
    [EDA.ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/EDA.ipynb)
    
- ì„ê°•ë¯¼ : XGBoost
    
    [ML_Prediction_Project(XGBoost).ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/ML_Prediction_Project(XGBoost).ipynb)
    
</aside>

## **í”„ë¡œì íŠ¸ ë°°ê²½ ë° ëª©ì **

Rossmann ë“œëŸ­ìŠ¤í† ì–´ ì²´ì¸ì˜ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ë‹¤ì–‘í•œ ë§¤ì¥ íŠ¹ì„±ê³¼ ë§ˆì¼€íŒ… ìš”ì¸ì´ ë§¤ì¶œì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ë¶„ì„í•˜ê³ , ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •í™•í•œ ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ëª©ì ì…ë‹ˆë‹¤.

## 1-1. ë°ì´í„° ì„ ì • ë° ìˆ˜ì§‘

[Rossmann Store Sales](https://www.kaggle.com/competitions/rossmann-store-sales)

Rossmannì€ 7ê°œì˜ ìœ ëŸ½ êµ­ê°€ì—ì„œ 3000ê°œ ì´ìƒì˜ ë“œëŸ­ìŠ¤í† ì–´ë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë§¤ì¶œì€ í”„ë¡œëª¨ì…˜, ê²½ìŸì‚¬, í•™êµ ë° ê³µíœ´ì¼ ë“± ë‹¤ì–‘í•œ ìš”ì¸ì— ì˜í–¥ì„ ë°›ìŠµë‹ˆë‹¤. ì´ë¥¼ ì˜ˆì¸¡í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì€ ë°ì´í„°ë“¤ì„ ëª¨ì•„ë†“ì€ ë°ì´í„°ì…‹ì…ë‹ˆë‹¤.

- ë°ì´í„° ì¹¼ëŸ¼ í•­ëª© ë° ì •ë³´
    
    ## ğŸ“ **1. `train.csv`**
    
    > ë§¤ì¥ë³„ ì¼ë³„ ë§¤ì¶œ ë° ê´€ë ¨ ì •ë³´ (í•™ìŠµìš© ë°ì´í„°)
    > 
    
    | ì»¬ëŸ¼ëª… | ì„¤ëª… |
    | --- | --- |
    | `Store` | ë§¤ì¥ ID |
    | `DayOfWeek` | ìš”ì¼ (1=ì›”ìš”ì¼, 7=ì¼ìš”ì¼) |
    | `Date` | ë‚ ì§œ (YYYY-MM-DD) |
    | `Sales` | ë§¤ì¶œ (íƒ€ê¹ƒ ë³€ìˆ˜) |
    | `Customers` | ë°©ë¬¸ ê³ ê° ìˆ˜ |
    | `Open` | ë§¤ì¥ ê°œì  ì—¬ë¶€ (1=ì—´ë¦¼, 0=ë‹«í˜) |
    | `Promo` | í”„ë¡œëª¨ì…˜ ì§„í–‰ ì—¬ë¶€ (1=ì§„í–‰ ì¤‘) |
    | `StateHoliday` | ì£¼ ê³µíœ´ì¼ ì—¬ë¶€ (`0`=ì•„ë‹˜, `a`=ê³µíœ´ì¼, `b`=ë¶€í™œì ˆ, `c`=í¬ë¦¬ìŠ¤ë§ˆìŠ¤ ë“±) |
    | `SchoolHoliday` | í•™êµ ë°©í•™ ì—¬ë¶€ (1=ë°©í•™) |
    
    ---
    
    ## ğŸ“ **2. `test.csv`**
    
    > ì˜ˆì¸¡ ëŒ€ìƒ ë°ì´í„° (Sales ì—†ìŒ)
    > 
    
    ---
    
    ## ğŸ“ **3. `store.csv`**
    
    > ê° ë§¤ì¥ì— ëŒ€í•œ ê³ ì • ì •ë³´
    > 
    > 
    > 
    > | ì»¬ëŸ¼ëª… | ì„¤ëª… |
    > | --- | --- |
    > | `Store` | ë§¤ì¥ ID |
    > | `StoreType` | ë§¤ì¥ ìœ í˜• (`a`, `b`, `c`, `d`) |
    > | `Assortment` | ìƒí’ˆ êµ¬ì„± ìˆ˜ì¤€ (`a`=ê¸°ë³¸, `b`=ì¤‘ê°„, `c`=ê´‘ë²”ìœ„) |
    > | `CompetitionDistance` | ê°€ì¥ ê°€ê¹Œìš´ ê²½ìŸ ë§¤ì¥ ê±°ë¦¬ (ë¯¸í„°) |
    > | `CompetitionOpenSinceMonth` | ê²½ìŸ ë§¤ì¥ ê°œì  ì›” |
    > | `CompetitionOpenSinceYear` | ê²½ìŸ ë§¤ì¥ ê°œì  ì—°ë„ |
    > | `Promo2` | ì—°ì¤‘ ë°˜ë³µë˜ëŠ” í”„ë¡œëª¨ì…˜ ì—¬ë¶€ (0 or 1) |
    > | `Promo2SinceWeek` | Promo2 ì‹œì‘ ì£¼ì°¨ |
    > | `Promo2SinceYear` | Promo2 ì‹œì‘ ì—°ë„ |
    > | `PromoInterval` | Promo2ê°€ ì§„í–‰ë˜ëŠ” ì›” ì´ë¦„ (ì˜ˆ: `"Jan,Apr,Jul,Oct"`) |
    
    | ì»¬ëŸ¼ëª… | ì„¤ëª… |
    | --- | --- |
    | `Id` | ìƒ˜í”Œ ê³ ìœ  ID (ì˜ˆì¸¡ ê²°ê³¼ ì œì¶œìš©) |
    | `Store` | ë§¤ì¥ ID |
    | `DayOfWeek` | ìš”ì¼ |
    | `Date` | ë‚ ì§œ |
    | `Open` | ë§¤ì¥ ê°œì  ì—¬ë¶€ (ê²°ì¸¡ ê°€ëŠ¥) |
    | `Promo` | í”„ë¡œëª¨ì…˜ ì—¬ë¶€ |
    | `StateHoliday` | ê³µíœ´ì¼ ì—¬ë¶€ |
    | `SchoolHoliday` | ë°©í•™ ì—¬ë¶€ |

## 1-2. ë°ì´í„° ì „ì²˜ë¦¬: ê²°ì¸¡ì¹˜ ì²˜ë¦¬ ë° Feature Selection

1. ê²°ì¸¡ì¹˜ ì²˜ë¦¬
    - Date ì¹¼ëŸ¼ìœ¼ë¡œ Month, Day ë“±ì˜ ë‚ ì§œ íŒŒìƒ ë³€ìˆ˜ ìƒì„±
    - Store ê¸°ì¤€ìœ¼ë¡œ train.csvì™€ store.csvë¥¼ ë³‘í•©í•˜ì—¬ íŒŒì¼ ì¬êµ¬ì„±
    - ì°¸ì¡° ì½”ë“œ
        
        [PreProcess_Merge.ipynb](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/PreProcess_Merge.ipynb)
        
    
    | ì»¬ëŸ¼ëª… | ê²°ì¸¡ì¹˜ ìˆ˜ | ì²˜ë¦¬ ë°©ë²• | ì´ìœ  |
    | --- | --- | --- | --- |
    | CompetitionDistance | 3ê°œ | ì¤‘ì•™ê°’ | í•´ë‹¹ ê°’ì€ ì–‘ìˆ˜ì´ë©° í‰ê· ë³´ë‹¤ ì¤‘ì•™ê°’ì´ ê·¹ë‹¨ê°’ ì˜í–¥ì— ëœ ë¯¼ê°í•˜ê¸° ë•Œë¬¸ |
    | CompetitionOpenSinceMonthCompetitionOpenSinceYear | 354ê°œ | 0ìœ¼ë¡œ ëŒ€ì²´ | ê²°ì¸¡ì¹˜ì˜ ì˜ë¯¸ëŠ” ê²½ìŸ ë§¤ì¥ ì •ë³´ ì—†ìŒ â†’ ì—†ëŠ” ê²½ìš°ë¡œ í•´ì„ |
    | Promo2SinceWeekPromo2SinceYearPromoInterval | 544ê°œ | 0ìœ¼ë¡œ ëŒ€ì²´ | Promo2 ê°’ì´ 0ì¸ ê²½ìš°ëŠ” ì• ì´ˆì— í”„ë¡œëª¨ì…˜ ë¯¸ì°¸ì—¬ ë§¤ì¥ â†’ ê´€ë ¨ ì •ë³´ ìì²´ê°€ ì˜ë¯¸ ì—†ìŒ |

[train_store.csv](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/train_store.csv)

- store.csv ê²°ì¸¡ì¹˜ ê°œìˆ˜
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image.png)
    

1. Feature Selection
    - ì œì™¸í•œ ëŒ€í‘œì  Feature
        
        
        | ì œì™¸ Feature | ì´ìœ  | íŠ¹ì´ì‚¬í•­ |
        | --- | --- | --- |
        | Customers | ì˜ˆì¸¡ ì‹œì ì—ëŠ” ì•Œ ìˆ˜ ì—†ìŒ (test.csvì— ì¡´ì¬í•˜ì§€ ì•ŠìŒ) |  |
        | PromoInterval | ë¹„ì •í˜• ë¬¸ìì—´ì´ë©° ê°€ê³µì´ í•„ìš”(Promo2ë¡œ ëŒ€ì²´ ê°€ëŠ¥) |  |
        | Store | ì„ í˜• íšŒê·€ì—ì„œëŠ” ë…¸ì´ì¦ˆì¼ ìˆ˜ ìˆìŒ | ì„ í˜• íšŒê·€ì—ëŠ” ë…¸ì´ì¦ˆ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜ íŠ¸ë¦¬ê¸°ë°˜ì€ ì‚¬ìš©í•´ì•¼í•˜ëŠ” feature |
        | Open | ëŒ€ë¶€ë¶„ ë°ì´í„°ì—ì„œ 1ë¡œ ê³ ì •ë˜ì–´ ìˆì–´ ë¶„ì‚°ì´ ë‚®ìŒ
        ì˜ˆì¸¡ë ¥ì— ê¸°ì—¬ë„ ë‚®ë‹¤ íŒë‹¨ |  |
    - ê° ëª¨ë¸ì— ë§ëŠ” features ì„ íƒ ë° encoding ì§„í–‰ í›„ ëª¨ë¸ í•™ìŠµ ì§„í–‰
        
        
        | ê¸°ì¤€  | ì„¤ëª… | ì˜ˆì‹œ |
        | --- | --- | --- |
        | ì˜ˆì¸¡ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì£¼ëŠ” ë³€ìˆ˜ | ë§¤ì¶œì— ì˜í–¥ì„ ì£¼ëŠ” ë³€ìˆ˜ëŠ” ìš°ì„ ì ìœ¼ë¡œ í¬í•¨ | `Promo`, `DayOfWeek`, `SchoolHoliday`, `StoreType` |
        | ì‹œê³„ì—´ ì •ë³´(ë‚ ì§œ ê´€ë ¨) | ì›”/ì¼/ìš”ì¼ ê°™ì€ ì‹œê°„ ì •ë³´ëŠ” ë§¤ì˜ ê³„ì ˆì„±/íŒ¨í„´ì„ ë°˜ì˜ | `Date`, `Month`, `Day`, `Week`, `DayOfWeek` |
        | ë§¤ì¥ ì •ë³´ | ë§¤ì¥ë³„ ìœ„ì¹˜, ê·œëª¨, êµ¬ìƒ‰ ë“±ì˜ íŠ¹ì§•ì€ ë§¤ì¶œ ì°¨ì´ë¥¼ ë§Œë“¬ | `Store`, `StoreType`, `Assortment`, `CompetitionDistance` |
        | ëˆ„ë½ì´ ì ê³  ì•ˆì •ì ì¸ ë³€ìˆ˜ | ê²°ì¸¡ì¹˜ê°€ ë§ê±°ë‚˜ ë¶ˆì•ˆì •í•œ ë³€ìˆ˜ëŠ” ì œê±° ê³ ë ¤ | ì˜ˆ: `CompetitionOpenSinceYear` (ê²°ì¸¡ ë§ìŒì´ë©´ ì œê±° ê°€ëŠ¥) |
        | ì‹¤ì œ ì˜ˆì¸¡ ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ë§Œ ì‚¬ìš© | ë¯¸ë˜ ë°ì´í„°ë¥¼ ì˜ˆì¸¡í•  ê²ƒ ì´ë¯€ë¡œ ë¯¸ë˜ì— ì•Œ ìˆ˜ ì—†ëŠ” ë³€ìˆ˜ëŠ” ì œì™¸ | âŒ `Customers` â† ì˜ˆì¸¡ ì‹œì ì—ì„œëŠ” ì•Œ ìˆ˜ ì—†ìŒ |
        
        ```python
        features = [
            'DayOfWeek',           # ìš”ì¼ (ë§¤ì¶œ íŒ¨í„´ ì£¼ê¸°ì— ì¤‘ìš”)
            'Month', 'Day',        # ë‚ ì§œ ì •ë³´ (ê³„ì ˆì„± ë°˜ì˜)
            'Promo', 'Promo2',     # í”„ë¡œëª¨ì…˜ ì—¬ë¶€ (ë§¤ì¶œ ìƒìŠ¹ ì˜í–¥)
            'SchoolHoliday',       # í•™êµ ë°©í•™ (íŠ¹ì • ì§€ì—­ ë§¤ì¶œì— ì˜í–¥)
            'StoreType',           # ë§¤ì¥ ìœ í˜• (ìœ í†µ ë°©ì‹ì— ë”°ë¥¸ ì°¨ì´)
            'Assortment',          # ìƒí’ˆ êµ¬ìƒ‰ (ê¸°ë³¸/í™•ì¥ ì—¬ë¶€)
            'CompetitionDistance'  # ê²½ìŸ ë§¤ì¥ ê±°ë¦¬ (ë§¤ì¶œì— ë°˜ë¹„ë¡€ ì˜í–¥)
        ]
        ```
        
    

<aside>

## 1-3. EDA ë¥¼ í†µí•œ ê°€ì„¤ì„¤ì • ë° ë¬¸ì œì •ì˜

**ğŸ’¡ë¬¸ì œ ì •ì˜ğŸ’¡**

ì´ ë³´ê³ ì„œì—ì„œëŠ” ìƒì ë³„ ë§¤ì¶œì•¡ ì˜ˆì¸¡ ë¬¸ì œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤. ë§¤ì¶œì•¡ ì˜ˆì¸¡ì€ ë§¤ì¶œ ì¦ê°€ë¥¼ ìœ„í•œ ì „ëµ ìˆ˜ë¦½, ë§ˆì¼€íŒ… íš¨ê³¼ ë¶„ì„, ì¸ë ¥ ë° ì¬ê³  ê´€ë¦¬ ìµœì í™” ë“±ì„ ìœ„í•´ ì¤‘ìš”í•œ ë¶„ì„ ê³¼ì œì…ë‹ˆë‹¤. EDA(íƒìƒ‰ì  ë°ì´í„° ë¶„ì„) ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ë‹¤ì–‘í•œ ë³€ìˆ˜ë“¤ì´ ë§¤ì¶œì•¡ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•˜ê³ , ì´ë¥¼ í†µí•´ ë§¤ì¶œì•¡ ì˜ˆì¸¡ ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ ëª©ì ì…ë‹ˆë‹¤.

**ğŸ’¡EDA ê²°ê³¼ğŸ’¡**

**âœ…Â ê¸°ì´ˆ í†µê³„ëŸ‰ (Featureë³„ ê¸°ì´ˆ í†µê³„)**

- ê¸°ì´ˆ í†µê³„ëŸ‰ì„ í†µí•´ ë³€ìˆ˜ë“¤ì˜ ë¶„í¬ì™€ ì´ìƒì¹˜ë¥¼ í™•ì¸
- **ë§¤ì¶œì•¡**ì€ í° ë²”ìœ„ì˜ ê°’ë“¤ì„ ê°€ì§ì„ ì•Œ ìˆ˜ ìˆìœ¼ë©°, **CompetitionDistance**ì™€ ê°™ì€ ë³€ìˆ˜ë“¤ì€ ì¼ë¶€ ìƒì ì—ì„œ ë§¤ìš° ë†’ì€ ê°’ì„ ê°€ì§

![describe_output.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/describe_output.png)

 âœ…Â **ë§¤ì¶œì•¡ê³¼ íƒ€ ë³€ìˆ˜ ê°„ì˜ ê´€ê³„ ë¶„ì„**

- **íˆíŠ¸ë§µ ë¶„ì„**:
    - **Promo**ì™€ **DayOfWeek** ë³€ìˆ˜ëŠ” ë§¤ì¶œì•¡ê³¼ ë†’ì€ ìƒê´€ê´€ê³„ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤. ì´ ë‘ ë³€ìˆ˜ëŠ” ë§¤ì¶œ ì˜ˆì¸¡ì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒ
        
        ![ìƒê´€ê´€ê³„heatmap.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25EC%2583%2581%25EA%25B4%2580%25EA%25B4%2580%25EA%25B3%2584heatmap.png)
        
- **PairPlot ë¶„ì„**
    - ë§¤ì¶œì•¡ì€ **ìƒì  ìœ í˜•(StoreType)**ì— ë”°ë¼ í° ì°¨ì´ë¥¼ ë³´ì˜€ìŠµë‹ˆë‹¤. íŠ¹íˆ **Promo** ë³€ìˆ˜ëŠ” ë§¤ì¶œì— ì¤‘ìš”í•œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³€ìˆ˜ë¡œ, í”„ë¡œëª¨ì…˜ì´ ë°œìƒí•œ ê¸°ê°„ì˜ ë§¤ì¶œì´ ë†’ê²Œ ë‚˜íƒ€ë‚¨
    - **ê²½ìŸì‚¬ ê±°ë¦¬(CompetitionDistance)**ëŠ” ìƒì  ìœ í˜•ì— ë”°ë¼ ì°¨ì´ê°€ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìœ¼ë©°, ìƒì ì˜ ìœ„ì¹˜ê°€ ë§¤ì¶œì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤ëŠ” ê²ƒì„ ì‹œì‚¬
        
        ![pairplot.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/pairplot.png)
        

**âœ…Â ANOVA ë¶„ì„ ê²°ê³¼**

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%201.png)

- ANOVA ë¶„ì„ì€ ë²”ì£¼í˜• ë³€ìˆ˜ë“¤ì´ ë§¤ì¶œì•¡ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ í‰ê°€í•˜ëŠ”ë° ì‚¬ìš©.
- **F-statistic** ê°’ì´ ë†’ì„ìˆ˜ë¡ ê·¸ë£¹ ê°„ ì°¨ì´ê°€ í¬ë©°, ì´ ê°’ê³¼ **p-value**ë¥¼ í•¨ê»˜ ê³ ë ¤í•˜ì—¬ ë³€ìˆ˜ë“¤ì´ ë§¤ì¶œì— ìœ ì˜ë¯¸í•œ ì˜í–¥ì„ ë¯¸ì¹œë‹¤ëŠ” ê²°ë¡ ì„ ë‚´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - **ì£¼ìš” ë³€ìˆ˜ë“¤**: `Promo`, `StoreType`, `Assortment`, `StateHoliday`, `DayofWeek`, `Month`, `Weekend vs Weekday` ë³€ìˆ˜ë“¤ì€ ë§¤ì¶œì— ìœ ì˜ë¯¸í•œ ì˜í–¥
    - **SchoolHoliday**ëŠ” ë§¤ì¶œì•¡ì— í° ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠëŠ” ë³€ìˆ˜
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%202.png)
    

**âœ…Â ë§¤ì¶œì•¡ ë¶„í¬ í™•ì¸**

- **íœ´ì¼ì— ë”°ë¥¸ í”„ë¡œëª¨ì…˜ê³¼ ë§¤ì¶œì•¡ ë¶„í¬** (Holiday Type | 0= íœ´ì¼ ì•„ë‹˜, 1 = íœ´ì¼)
    - **íœ´ì¼ :** ìŠ¤í† ì–´ íƒ€ì…ì— ë”°ë¼ íœ´ì¼ ì—¬ë¶€ì— ë”°ë¥¸ í”„ë¡œëª¨ì…˜ ì§„í–‰ì—¬ë¶€ì˜ ì„±ê³¼ê°€ ë‹¤ë¥´ë©°, íŠ¹íˆ ìŠ¤í† ì–´ íƒ€ì… bì˜ ê²½ìš° íœ´ì¼&í”„ë¡œëª¨ì…˜ ê¸°ê°„ì— í”„ë¡œëª¨ì…˜ì˜ ë§¤ì¶œ ê¸°ì—¬ê°€ í¼
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%203.png)
    
    - **ìš”ì¼ë³„: ì›”~ê¸ˆ**ì—ëŠ” í”„ë¡œëª¨ì…˜ì´ ë§¤ì¶œì„ ì¦ê°€ì‹œí‚¤ëŠ” íš¨ê³¼ê°€ ìˆì§€ë§Œ, **ì£¼ë§**ì—ëŠ” í”„ë¡œëª¨ì…˜ ë§¤ì¶œì´ ìƒëŒ€ì ìœ¼ë¡œ ì ìŒ. StateHolidayì˜ ë§¤ì¶œì€ SchoolHolidayì˜ ë§¤ì¶œë³´ë‹¤ í¬ê³ , SchoolHolidayì—ëŠ” í”„ë¡œëª¨ì…˜ì´ ì‚¬ìš©ëœ ë§¤ì¶œì˜ ë¹„ì¤‘ì´ ë” í¼.
        
        ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%204.png)
        
- **ìŠ¤í† ì–´ íƒ€ì…ì— ë”°ë¥¸ ë§¤ì¶œì•¡ ë¶„í¬:**
    - **ìŠ¤í† ì–´ íƒ€ì… B**ê°€ ì „ë°˜ì ìœ¼ë¡œ ë§¤ì¶œì´ ë‹¤ë¥¸ ìŠ¤í† ì–´ íƒ€ì…ë³´ë‹¤ ë†’ìœ¼ë©°, ê°€ì¥ ë„“ì€ ë§¤ì¶œ ë¶„í¬ë¥¼ ë³´ì„
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%205.png)
    

### **ë§¤ì¶œ ì˜ˆì¸¡ì„ ìœ„í•œ ëª¨ë¸ë§ í•„ìš”ì„±**

EDA ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸ì„ êµ¬ì¶•í•˜ëŠ” ê²ƒì´ í•„ìš”í•©ë‹ˆë‹¤. ì£¼ìš” ë¶„ì„ ê²°ê³¼ì—ì„œ í™•ì¸ëœ **Promo**, **StoreType**, **Assortment**, **StateHoliday**, **DayofWeek**, **Month** ë“±ì˜ ë³€ìˆ˜ëŠ” ë§¤ì¶œì•¡ì— ìœ ì˜ë¯¸í•œ ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤. EDAì˜ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì •ì˜í•œ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ **íšŒê·€ ë¶„ì„** ë˜ëŠ” **ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸**ì„ ì‚¬ìš©í•˜ì—¬ **ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸**ì„ êµ¬ì¶•í•˜ê³ , ê° ë³€ìˆ˜ì˜ ì¤‘ìš”ë„ë¥¼ í‰ê°€ë¥¼ ëª©í‘œë¡œ í•©ë‹ˆë‹¤. 

**ê°€ì„¤ ì„¤ì •**

1. ìš”ì¼(DayOfWeek), í”„ë¡œëª¨ì…˜(Promo), ì§ì „ ë§¤ì¶œ(Sales_lag)ê³¼ ê°™ì€ ì‹œê°„ ë° ì´ë²¤íŠ¸ ë³€ìˆ˜ëŠ” ë§¤ì¶œì— ìœ ì˜ë¯¸í•œ ì˜í–¥ì„ ì¤„ ê²ƒì´ë‹¤.
2. íŠ¸ë¦¬ ê¸°ë°˜ì˜ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸(Random Forest, XGBoost)ì€ ì„ í˜• íšŒê·€ë³´ë‹¤ ë” ìš°ìˆ˜í•œ ì˜ˆì¸¡ ì„±ëŠ¥ì„ ë³´ì¼ ê²ƒì´ë‹¤.
3. ê³¼ê±° ë§¤ì¶œ ì •ë³´ë¥¼ í¬í•¨í•œ lag featureì™€ ë§¤ì¶œì•¡ ì´ë™í‰ê· ì€ ì˜ˆì¸¡ ì •í™•ë„ë¥¼ ë†’ì´ëŠ” ë° ê¸°ì—¬í•  ê²ƒì´ë‹¤.

**ì˜ˆì¸¡ ëª¨ë¸ ê°œë°œ ë°©í–¥**

- **ëª¨ë¸ ì„ íƒ**: **ì„ í˜• íšŒê·€ ëª¨ë¸**ì„ ê¸°ë³¸ìœ¼ë¡œ ì‹œì‘í•˜ê³ , í•„ìš”ì— ë”°ë¼ **ëœë¤ í¬ë ˆìŠ¤íŠ¸** ë˜ëŠ” **XGBoost**ì™€ ê°™ì€ ê³ ê¸‰ ëª¨ë¸ì„ ì‚¬ìš©
- **ëª¨ë¸ í‰ê°€**: ëª¨ë¸ì˜ ì„±ëŠ¥ì„ í‰ê°€í•˜ê¸° ìœ„í•´ **MAE**, **RMSE**, **RÂ²** ë“±ì˜ ì§€í‘œë¥¼ í™œìš©
- **ì˜ˆìƒ í™œìš©ë„**: ë§¤ì¶œ ì˜ˆì¸¡ì„ ìœ„í•œ ì£¼ìš” ë³€ìˆ˜ë¥¼ í™•ì¸ í›„ ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸ì„ êµ¬ì¶•í•˜ì—¬ ì‹¤ì œ ë§¤ì¶œì„ ì˜ˆì¸¡í•˜ê³ , ì´ë¥¼ í†µí•´ ë§¤ì¶œì„ ìµœì í™”í•˜ê¸° ìœ„í•œ ì „ëµì„ ìˆ˜ë¦½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</aside>

## 2-1. **ì˜ˆì¸¡ ëª¨ë¸ êµ¬í˜„ì„ ìœ„í•œ í•™ìŠµ ì§„í–‰ ë° ê²°ê³¼ í™•ì¸**

## Linear Regression - Ridge, Lasso

```python
features = ['DayOfWeek', 'Promo', 'StateHoliday', 'SchoolHoliday', 'Promo2',
            'CompetitionDistance',
            'Sales_lag_1', 'Sales_lag_7', 'Sales_lag_14',
            'Sales_roll_mean_7','Day', 'Month', 'Year'
           ]
```

**[ëª¨ë¸ ìƒì„± > í›ˆë ¨ > ì˜ˆì¸¡ ê³¼ì •]**  

<aside>

Step 1. ë°ì´í„° ì „ì²˜ë¦¬: ì‹œê³„ì—´ íŠ¹ì„± ì •ë¦¬ 

- ì‹œê³„ì—´ íŠ¹ì„± ê³„ìˆ˜ ì¶”ê°€
    
    í•˜ë£¨ ì „, ì¼ì£¼ì¼ ì „, 2ì£¼ ì „ , ì´ë™í‰ê·  ì‹œê³„ì—´ íŠ¹ì„± ê³„ìˆ˜ ì¶”ê°€
    
    **[ì‹œê³„ì—´ íŠ¹ì„± ê²°ê³¼ í•´ì„ ]**
    
    1. **ê³„ì ˆì„± ê°•ë„ ì¸¡ì •**: 7ì¼, 14ì¼ ì „ ë°ì´í„°ì˜ ë†’ì€ ê³„ìˆ˜ëŠ” ê°•í•œ ì£¼ê°„ ê³„ì ˆì„±.
    2. **ë‹¨ê¸° vs ì¥ê¸° ì˜í–¥ë ¥**: ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡(1ì¼â†’7ì¼â†’14ì¼) ê³„ìˆ˜ íŒ¨í„´ì´ ë³€í™”í•˜ëŠ” ì–‘ìƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ
    3. **ì™¸ë¶€ ìš”ì¸ê³¼ì˜ ìƒí˜¸ì‘ìš©**: íœ´ì¼ì´ë‚˜ í”„ë¡œëª¨ì…˜ê³¼ ê°™ì€ ìš”ì¸ë“¤ì´ ì‹œê³„ì—´ íŒ¨í„´ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ”ì§€ ë³¼ ìˆ˜ ì•˜ìŒ
    
- ê²°ì¸¡ì¹˜ ì œê±°
- ë²”ì£¼í˜• ë°ì´í„°: ì›í•« ì¸ì½”ë”© ì‚¬ìš©
- ì •ê·œí™”í•  ì—°ì†í˜• ë³€ìˆ˜ ì„ ì • í›„ ì •ê·œí™” ì ìš©
    - MinMaxScalerë°©ë²•ìœ¼ë¡œ ìŠ¤ì¼€ì¼ë§

Step 2. í›ˆë ¨ ì„¸íŠ¸ì™€ í…ŒìŠ¤íŠ¸ ì„¸íŠ¸ë¡œ ë‚˜ëˆ„ì–´ì„œ í•™ìŠµ 

- ë‹¤ì–‘í•œ íšŒê·€ ëª¨ë¸ ì‹œë„
    - LinearRegression, Ridge íšŒê·€ (ë‹¤ì–‘í•œ alpha ê°’), Lasso íšŒê·€ (ë‹¤ì–‘í•œ alpha ê°’)
- ë¶€íŠ¸ìŠ¤íŠ¸ë© ìƒ˜í”Œë§ì„ ì‚¬ìš©í•˜ì—¬ ê° ë°˜ë³µë§ˆë‹¤ í›ˆë ¨ ë°ì´í„°ì˜ ë³€í˜•ëœ ë²„ì „ ì‚¬ìš©
- ê° ë°˜ë³µë§ˆë‹¤ ëª¨ë¸ ìœ í˜•, MSE, RMSE, R2 ì ìˆ˜ ì¶œë ¥í•˜ì—¬ ìµœê³  ì„±ëŠ¥ì˜ ëª¨ë¸ ì±„íƒ
    
    ```python
    import pandas as pd
    import numpy as np
    from sklearn.model_selection import train_test_split
    from sklearn.preprocessing import MinMaxScaler, LabelEncoder
    from sklearn.linear_model import LinearRegression, Ridge, Lasso
    from sklearn.metrics import mean_absolute_error, mean_squared_error, r2_score
    import random
    
    # ë°ì´í„° ë¡œë“œ
    train_store = pd.read_csv("/content/train_store.csv")
    test = pd.read_csv("/content/test.csv")
    
    # ë‚ ì§œ ì •ë ¬ (Storeë³„ë¡œ ì‹œê³„ì—´ ìˆœì„œ ìœ ì§€)
    train_store.sort_values(['Store', 'Date'], inplace=True)
    
    # ì‹œê³„ì—´ íŠ¹ì„± ìƒì„±
    train_store['Sales_lag_1'] = train_store.groupby('Store')['Sales'].shift(1)
    train_store['Sales_lag_7'] = train_store.groupby('Store')['Sales'].shift(7)
    train_store['Sales_lag_14'] = train_store.groupby('Store')['Sales'].shift(14)
    train_store['Sales_roll_mean_7'] = train_store.groupby('Store')['Sales'].shift(1).rolling(window=7).mean().reset_index(0, drop=True)
    
    # ê²°ì¸¡ì¹˜ ì œê±°
    train_store.dropna(subset=['Sales_lag_1', 'Sales_lag_7', 'Sales_lag_14',
                               'Sales_roll_mean_7'], inplace=True)
    train_store['StateHoliday'] = train_store['StateHoliday'].replace({'0': 0, 'a': 1, 'b': 1, 'c': 1}).astype(int)
    
    # ì›í•«ì¸ì½”ë”© ì ìš©(ë²”ì£¼í˜•)
    categorical_cols = ['StoreType', 'Assortment']
    train_store_encoded = pd.get_dummies(train_store, columns=categorical_cols, drop_first=True)
    
    # ì •ê·œí™”í•  ì—°ì†í˜• ë³€ìˆ˜ ì •ì˜
    continuous_features = ['CompetitionDistance', 'Sales_lag_1', 'Sales_lag_7', 'Sales_lag_14',
                           'Sales_roll_mean_7']
    
    # ì •ê·œí™” ì ìš©
    scaler = MinMaxScaler()
    train_store_encoded[continuous_features] = scaler.fit_transform(train_store_encoded[continuous_features])
    
    # íŠ¹ì„±ê³¼ íƒ€ê²Ÿ ë³€ìˆ˜ ì •ì˜
    
    features = ['DayOfWeek', 'Promo', 'StateHoliday', 'SchoolHoliday', 'Promo2',
                'CompetitionDistance',
                'Sales_lag_1', 'Sales_lag_7', 'Sales_lag_14',
                'Sales_roll_mean_7','Day', 'Month', 'Year'
               ]
    
    # ì›í•«ì¸ì½”ë”©ëœ ì—´ ì´ë¦„ ì¶”ê°€
    features.extend([col for col in train_store_encoded.columns
                    if col.startswith(tuple(f'{c}_' for c in categorical_cols))])
    
    # íŠ¹ì„±ê³¼ íƒ€ê²Ÿ ë¶„ë¦¬
    X = train_store_encoded[features]
    y = train_store_encoded['Sales']
    
    # RMSPE í•¨ìˆ˜ ì •ì˜ (Root Mean Squared Percentage Error)
    def rmspe(y_true, y_pred):
        return np.sqrt(np.mean(np.square((y_true - y_pred) / y_true)))
    
    # ì „ì²´ í›ˆë ¨ ë° ê²€ì¦ ì„¸íŠ¸ ë¶„ë¦¬
    X_train_full, X_val, y_train_full, y_val = train_test_split(X, y, test_size=0.2, random_state=42)
    
    # ë°˜ë³µ í•™ìŠµ (10ë²ˆ ë°˜ë³µ)
    n_iterations = 10
    best_mse = float('inf')
    best_model = None
    models = []
    performances = []
    
    for i in range(n_iterations):
        # ë‹¤ì–‘í•œ ëª¨ë¸ ì‹œë„
        if i % 3 == 0:
            # ê¸°ë³¸ ì„ í˜• íšŒê·€
            model = LinearRegression()
            model_name = "LinearRegression"
        elif i % 3 == 1:
            # Ridge íšŒê·€ (ì•ŒíŒŒê°’ ëœë¤)
            alpha = random.uniform(0.1, 10.0)
            model = Ridge(alpha=alpha)
            model_name = f"Ridge(alpha={alpha:.2f})"
        else:
            # Lasso íšŒê·€ (ì•ŒíŒŒê°’ ëœë¤)
            alpha = random.uniform(0.001, 1.0)
            model = Lasso(alpha=alpha)
            model_name = f"Lasso(alpha={alpha:.4f})"
    
        # ë¶€íŠ¸ìŠ¤íŠ¸ë© ìƒ˜í”Œë§ (ë°ì´í„° ë³€í˜•ì„ ìœ„í•´)
        sample_indices = np.random.choice(len(X_train_full), size=int(0.8*len(X_train_full)), replace=True)
        X_train = X_train_full.iloc[sample_indices]
        y_train = y_train_full.iloc[sample_indices]
    
        # ëª¨ë¸ í•™ìŠµ
        model.fit(X_train, y_train)
    
        # ëª¨ë¸ í‰ê°€
        y_pred = model.predict(X_val)
        mse = mean_squared_error(y_val, y_pred)
        rmse = np.sqrt(mse)
        r2 = r2_score(y_val, y_pred)
    
        # ëª¨ë¸ ë° ì„±ëŠ¥ ì €ì¥
        models.append((model, model_name))
        performances.append((mse, rmse, r2))
    
        # ìµœê³  ëª¨ë¸ ì—…ë°ì´íŠ¸
        if mse < best_mse:
            best_mse = mse
            best_model = model
            best_model_name = model_name
    
        print(f"Iteration {i+1}: {model_name} - MSE = {mse:.4f}, RMSE = {rmse:.2f}, R2 = {r2:.4f}")
    
    # ìµœê³  ëª¨ë¸ë¡œ í›ˆë ¨ ë° ê²€ì¦ ì„¸íŠ¸ ì˜ˆì¸¡
    print(f"\nBest Model: {best_model_name} (MSE = {best_mse:.4f})")
    
    # í›ˆë ¨ ì„¸íŠ¸ì— ëŒ€í•œ ì„±ëŠ¥ í‰ê°€
    y_train_pred = best_model.predict(X_train_full)
    train_mae = mean_absolute_error(y_train_full, y_train_pred)
    train_mse = mean_squared_error(y_train_full, y_train_pred)
    train_rmse = np.sqrt(train_mse)
    train_r2 = r2_score(y_train_full, y_train_pred)
    train_rmspe = rmspe(y_train_full, y_train_pred)
    
    # ê²€ì¦ ì„¸íŠ¸ì— ëŒ€í•œ ì„±ëŠ¥ í‰ê°€
    y_val_pred = best_model.predict(X_val)
    val_mae = mean_absolute_error(y_val, y_val_pred)
    val_mse = mean_squared_error(y_val, y_val_pred)
    val_rmse = np.sqrt(val_mse)
    val_r2 = r2_score(y_val, y_val_pred)
    val_rmspe = rmspe(y_val, y_val_pred)
    
    # ì„±ëŠ¥ í‰ê°€ ê²°ê³¼ í‘œì‹œ
    print(f"\n{'Metric':<10} {'Train':>10} {'Test':>10}")
    print(f"{'-'*30}")
    print(f"{'MAE':<10} {train_mae:>10.2f} {val_mae:>10.2f}")
    print(f"{'RMSE':<10} {train_rmse:>10.2f} {val_rmse:>10.2f}")
    print(f"{'R2 score':<10} {train_r2:>10.2f} {val_r2:>10.2f}")
    print(f"{'RMSPE':<10} {train_rmspe:>10.2f} {val_rmspe:>10.2f}")
    ```
    

Step 3. ëª¨ë¸ ì„±ëŠ¥í‰ê°€ ì§€í‘œ í™•ì¸

- ìµœì¢…ì ìœ¼ë¡œ ì„±ëŠ¥ì´ ê°€ì¥ ì¢‹ì€ ì„ í˜•íšŒê·€ ëª¨ë¸ì„ ì„ íƒ
- í›ˆë ¨ ë° ê²€ì¦ ì„¸íŠ¸ì— ëŒ€í•œ ìƒì„¸í•œ ì„±ëŠ¥ ì§€í‘œ ì¶œë ¥

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/728bb5d9-693d-4bda-bdf1-45232f144bcf.png)

</aside>

**[ì„±ëŠ¥ í‰ê°€]**

- ì„±ëŠ¥í‰ê°€ì§€í‘œ ì„¤ëª…
    - MAE: ì˜ˆì¸¡ê°’ê³¼ ì‹¤ì œê°’ ì‚¬ì´ì˜ í‰ê·  ì ˆëŒ€ ì˜¤ì°¨
    - MSE (Mean Squared Error): ì˜ˆì¸¡ê°’ê³¼ ì‹¤ì œê°’ì˜ ì°¨ì´ë¥¼ ì œê³±í•˜ì—¬ í‰ê· í•œ ê°’. ì´ ê°’ì´ í¬ë‹¤ëŠ” ê²ƒì€ ì˜ˆì¸¡ ì˜¤ì°¨ê°€ í¬ë‹¤ëŠ” ì˜ë¯¸
    - RMSE: MSEì˜ ì œê³±ê·¼ì„ ì·¨í•œ ê°’ìœ¼ë¡œ, ì˜ˆì¸¡ ì˜¤ì°¨ì˜ í¬ê¸°ë¥¼ ì‹¤ì œ ë‹¨ìœ„. ì´ ê°’ì´ ì‘ì„ìˆ˜ë¡ ëª¨ë¸ì˜ ì˜ˆì¸¡ì´ ë” ì •í™•.
    - MAPE:  ì˜ˆì¸¡ê°’ê³¼ ì‹¤ì œê°’ì˜ ì°¨ì´ë¥¼ ì‹¤ì œê°’ì— ëŒ€í•´ ë°±ë¶„ìœ¨ë¡œ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œ
    : MAPE ê°’ì´ í¬ë‹¤ëŠ” ê²ƒì€ ëª¨ë¸ì´ ì˜ˆì¸¡í•˜ëŠ” ê³¼ì •ì—ì„œ ë§¤ìš° í° ì˜¤ì°¨ê°€ ë°œìƒí–ˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸. íŠ¹íˆ, MAPE ê°’ì´ ì´ë ‡ê²Œ ë¹„ì •ìƒì ìœ¼ë¡œ í¬ë‹¤ë©´ ë°ì´í„°ì— 0ì— ê°€ê¹Œìš´ ê°’ì´ë‚˜ ê·¹ë‹¨ì ì¸ ê°’ì´ í¬í•¨ë˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ ìˆìŒ. ì´ëŸ° ê·¹ë‹¨ê°’ì´ MAPEì— í¬ê²Œ ì˜í–¥ì„ ë¯¸ì¹¨
    - RÂ²:  ëª¨ë¸ì´ ì‹¤ì œê°’ì„ ì–¼ë§ˆë‚˜ ì˜ ì„¤ëª…í•˜ëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œì…ë‹ˆë‹¤. 0ê³¼ 1 ì‚¬ì´ì˜ ê°’ì„ ê°€ì§€ë©°, 1ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ëª¨ë¸ì´ ë°ì´í„°ë¥¼ ì˜ ì„¤ëª…í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 0.6326ì€ ëª¨ë¸ì´ ì•½ 63%ì˜ ë³€ë™ì„±ì„ ì„¤ëª…í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì´ëŠ” ëª¨ë¸ì´ ì–´ëŠ ì •ë„ ìœ íš¨í•˜ë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ë‚´ì§€ë§Œ, ê°œì„ í•  ì—¬ì§€ê°€ ìˆìŒ

| **Metric** | Train | Test |
| --- | --- | --- |
| **MAE** | 1952.87 | 1950.04 |
| **RMSE** | 2585.43 | 2579.74 |
| **R2 score** | 0.55 | 0.55 |
| **RMSPE** | 0.38 | 0.42 |

**[ì„¤ëª…]** 

- ë‹¤ì–‘í•œ íšŒê·€ë¶„ì„ ëª¨ë¸ì„ ì‹œë„ í•˜ì˜€ìœ¼ë‚˜, R2 ì ìˆ˜ê°€ 0.55ë¡œ ë¹„êµì  ë‚®ì€ ê²ƒìœ¼ë¡œ ë³´ì•„, ëª¨ë¸ì˜ ì „ë°˜ì ì¸ ì˜ˆì¸¡ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¬ ì—¬ì§€ê°€ ìˆìŒ.
    - Decision Tree, Random Forest, XGBoost ë“± ê³ ê¸‰ íŠ¸ë¦¬ëª¨ë¸ë¡œ ì˜ˆì¸¡ ëª¨ë¸ì„ ì„¤ê³„í•  í•„ìš”ì„±ì´ ìˆìŒì„ ë°œê²¬.
    - í˜„ì¬ ìƒíƒœì—ì„œë„ í™œìš© ê°€ëŠ¥í•œ ëª¨ë¸ì´ì§€ë§Œ, íŠ¹ì„± ì—”ì§€ë‹ˆì–´ë§ì´ë‚˜ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ì„ ì¶”ê°€ì ìœ¼ë¡œ ì‹œë„í•˜ì—¬ ì„±ëŠ¥ì„ ê°œì„ í•  í•„ìš”ê°€ ìˆìŒ.
- **íŒë§¤ëŸ‰(Sales) ë°ì´í„° ë³€ë™ì„±ì˜ ì•½ 55%ë¥¼ ì„¤ëª…,** ëª¨ë¸ì´ ì„¤ëª…í•˜ì§€ ëª»í•˜ëŠ” ë³€ë™ì„±ì´ 45%.
    - MAEëŠ” (ì˜ˆì¸¡ê°’ê³¼ ì‹¤ì œê°’ ì‚¬ì´ì˜ í‰ê·  ì ˆëŒ€ ì˜¤ì°¨)  ëª¨ë¸ì˜ ì˜ˆì¸¡ê°’ì´ ì‹¤ì œê°’ê³¼ í‰ê· ì ìœ¼ë¡œ ì•½ 1950.04(ë‹¬ëŸ¬) ë§Œí¼ ì°¨ì´ê°€ ë‚˜ëŠ” ê²ƒì„ í™•ì¸.
- **ê³¼ì í•© ì—¬ë¶€ íŒì •:** Trainê³¼ Test ë°ì´í„°ì—ì„œ MAE, RMSE, R2 ì ìˆ˜ê°€ ë§¤ìš° ìœ ì‚¬í•œ ê°’ì„ ë³´ì´ê¸° ë•Œë¬¸ì— ëª¨ë¸ì´ í›ˆë ¨ ë°ì´í„°ì— ê³¼ì í•©ë˜ì§€ ì•Šì•˜ë‹¤ê³  íŒë‹¨.

**[ì‹¤ì œ ë§¤ì¶œê³¼ ì˜ˆì¸¡ ë§¤ì¶œ ê°„ ì‚°ì ë„, ì‹œê³„ì—´ ì˜ˆì¸¡, ì”ì°¨ ë¶„í¬ ë¶„ì„]**

- **ì‚°ì ë„**
    - ëŒ€ì²´ë¡œ ì”ì°¨ ì‚°ì ë„ì˜ ë¶„í¬ê°€ ì˜ˆì¸¡ ê¸°ì¤€ì„ ì— ë°€ì§‘í•´ ìˆì–´ ì–´ëŠì •ë„ ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸ì´ ì„±ëŠ¥ì´ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ.
    - ë§¤ì¶œì´ ì»¤ì§ˆìˆ˜ë¡ ì •í™•ë„ê°€ ë–¨ì–´ì§€ê³ , ë§¤ì¶œì´ 0 ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì˜ˆì¸¡ ì •í™•ë„ê°€ ë–¨ì–´ì§.
    
    ![á„ƒá…¡á„‹á…®á†«á„…á…©á„ƒá…³ (8).png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25E1%2584%2583%25E1%2585%25A1%25E1%2584%258B%25E1%2585%25AE%25E1%2586%25AB%25E1%2584%2585%25E1%2585%25A9%25E1%2584%2583%25E1%2585%25B3_(8).png)
    
- **ì”ì°¨ ë¶„ì„: ì”ì°¨ì˜ ë¶„í¬ì™€ ì •ê·œì„± ê²€ì •**
    - í•˜ì§€ë§Œ, ì”ì°¨ ë¶„í¬ íˆìŠ¤í† ê·¸ë¨ì˜ ë¶„í¬ê°€ íƒ€ ML ì˜ˆì¸¡ ëª¨ë¸ê³¼ ë¹„êµí•˜ì—¬ ë„“ê²Œ ë¶„í¬ë˜ì–´ ìˆìŒ. Q_Q Plot ìœ¼ë¡œ ì”ì°¨ì˜ ì •ê·œì„±ì„ í™•ì¸ í•´ë³¸ ê²°ê³¼, ì”ì°¨ì˜ ì •ê·œì„± ë¬¸ì œë¡œ ì¸í•´ ê¸°ì¡´ì˜ ì„ í˜• íšŒê·€ ëª¨ë¸ë³´ë‹¤ ë” ì í•©í•œ ì˜ˆì¸¡ ëª¨ë¸ ìƒì„±ì´ í•„ìš”í•¨.
    
    ![á„ƒá…¡á„‹á…®á†«á„…á…©á„ƒá…³ (10).png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25E1%2584%2583%25E1%2585%25A1%25E1%2584%258B%25E1%2585%25AE%25E1%2586%25AB%25E1%2584%2585%25E1%2585%25A9%25E1%2584%2583%25E1%2585%25B3_(10).png)
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%206.png)
    

- **Actual vs Predicted (Date ìˆœì„œ)**
    - ì •í™•ë„ëŠ” íƒ€ ëª¨ë¸ì— ë¹„í•´ ë‚®ì§€ë§Œ, ë§¤ì¶œ ì˜ˆì¸¡ì˜ íŠ¸ëœë“œëŠ” ë¹„ìŠ·í•˜ê²Œ ì˜ˆì¸¡
    
    ![á„ƒá…¡á„‹á…®á†«á„…á…©á„ƒá…³ (11).png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25E1%2584%2583%25E1%2585%25A1%25E1%2584%258B%25E1%2585%25AE%25E1%2586%25AB%25E1%2584%2585%25E1%2585%25A9%25E1%2584%2583%25E1%2585%25B3_(11).png)
    

**[ì¤‘ìš” ë…ë¦½ë³€ìˆ˜ í•´ì„]**

- **ê° íŠ¹ì„±(feature)ì˜ ê³„ìˆ˜(coefficient)ì™€ ì ˆëŒ€ê°’(abs_coefficient)**
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%207.png)
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%208.png)
    

| ìˆœìœ„ | ë³€ìˆ˜ | í•´ì„ |
| --- | --- | --- |
| 1 | **Sales_lag_1** | `Sales_lag_1`(9657) > `Sales_lag_14`(6737)> `Sales_lag_7`(6212) í•˜ë£¨ ì „ íŒë§¤ëŸ‰ì´ ê°€ì¥ ê°•í•œ ì˜ˆì¸¡ë ¥ì„ ë³´ì—¬ì£¼ë©°, ì£¼ê°„(weekly) ìˆœí™˜ íŒ¨í„´ë„ ë§¤ìš° ì¤‘ìš”í•¨ |
| 2 | **Sales_lag_14** | ì´í•˜ ìƒë™ |
| 3 | **StateHoliday** | `StateHoliday`(-6416), `SchoolHoliday`ëŠ” ì–‘ì˜ ê³„ìˆ˜(116)
êµ­ê°€ ê³µíœ´ì¼ì—ëŠ” íŒë§¤ëŸ‰ì´ í¬ê²Œ ê°ì†Œ, í•™êµ íœ´ì¼ì—ëŠ” íŒë§¤ëŸ‰ì´ ì†Œí­ ì¦ê°€ |
| 4 | **Sales_lag_7** | 1ì£¼ì¼ ì „ ê°™ì€ ìš”ì¼ì˜ ë§¤ì¶œë„ íŒ¨í„´ íŒŒì•…ì— ìœ íš¨í•¨. ì£¼ê¸°ì„±(weekly seasonality)ì„ ì˜ ë°˜ì˜í•¨. |
| 5 | **StoreType_b** | `StoreType_b`(2660) íƒ€ì… ë§¤ì¥ì´ ê¸°ì¤€ ë§¤ì¥(aíƒ€ì…)ë³´ë‹¤ í‰ê· ì ìœ¼ë¡œ íŒë§¤ëŸ‰ì´ ë†’ìŒ, ë‹¤ë¥¸ ë§¤ì¥ ìœ í˜•(c: -46, d: -80)ì€ ìƒëŒ€ì ìœ¼ë¡œ ì˜í–¥ë ¥ì´ ì ìŒ |
| 6 | **Promo** | `Promo`(2005), `Promo2`(-274)
í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í”„ë¡œëª¨ì…˜`Promo`ì´ íŒë§¤ì— ê¸ì •ì  ì˜í–¥, ì—°ì¤‘ë°˜ë³µ í”„ë¡œëª¨ì…˜`Promo2`ì€ ì•½ê°„ì˜ ìŒì˜ íš¨ê³¼.  |
| 7 | **Assortment_b** | `Assortment_b`(-1247), `Assortment_c`(325)
bíƒ€ì… ìƒí’ˆ êµ¬ì„±ì´ ê¸°ì¤€ êµ¬ì„±(aíƒ€ì…)ë³´ë‹¤ íŒë§¤ëŸ‰ì„ ê°ì†Œì‹œí‚¤ëŠ” ë°˜ë©´, cíƒ€ì…ì€ ì†Œí­ ì¦ê°€ì‹œí‚´ |
| 8 | **Sales_roll_mean_7** | `Sales_roll_mean_7`  (-829.0)
7ì¼ ì´ë™ í‰ê·  ë§¤ì¶œì´ 1ë‹¨ìœ„ ì¦ê°€í•˜ë©´, í˜„ì¬ ë§¤ì¶œì´ 829.0 ë‹¨ìœ„ ê°ì†Œí•˜ëŠ” ê²½í–¥. ì´ëŠ” ìµœê·¼ ì¼ì£¼ì¼ ê°„ í‰ê·  ë§¤ì¶œì´ ë†’ì„ìˆ˜ë¡ í˜„ì¬ ë§¤ì¶œì´ ë‹¤ì†Œ ê°ì†Œí•  ìˆ˜ ìˆìŒì„ ì‹œì‚¬ |
| 9 | **DayOfWeek** | `DayOfWeek`  (-769.0)
 íŠ¹ì • ìš”ì¼ì—ëŠ” ë§¤ì¶œì´ í‰ê· ì ìœ¼ë¡œ 769.0 ë‹¨ìœ„ ê°ì†Œí•˜ëŠ” íŒ¨í„´ì´ ìˆì„ ìˆ˜ ìˆìŒ |
| 10 | **CompetitionDistance** | `CompetitionDistance`(-542)
ê²½ìŸì—…ì²´ì™€ì˜ ê±°ë¦¬ê°€ ë©€ìˆ˜ë¡ íŒë§¤ëŸ‰ì´ ê°ì†Œí•˜ëŠ” ê²½í–¥ì´ ìˆìŒ
`` |

## Decision Tree

**[ëª¨ë¸ ìƒì„± > í›ˆë ¨ > ì˜ˆì¸¡ ê³¼ì •]** 

- ëª¨ë¸ ìƒì„±: ê²°ì • íŠ¸ë¦¬ ëª¨ë¸
- í›ˆë ¨: store_train ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë¸ì„ í•™ìŠµí•˜ì˜€ìŒ
- ì˜ˆì¸¡: í…ŒìŠ¤íŠ¸ ë°ì´í„° ì…ë ¥ â†’ í•™ìŠµëœ ëª¨ë¸ì´ ê²°ê³¼ ì˜ˆì¸¡
- ì„±ëŠ¥ í‰ê°€(MAE, RMSE, R2, RMSPE)

```python
# X, y ì¶”ì¶œ
# Xì—” ìš°ë¦¬ê°€ ì •í•œ feature ë¦¬ìŠ¤íŠ¸ë§Œ ë„£ìŒ
features = [
    'Store',
    'DayOfWeek',           # ìš”ì¼ 
    'Month', 'Day',        # ë‚ ì§œ ì •ë³´
    'Promo', 'Promo2',     # í”„ë¡œëª¨ì…˜ ì—¬ë¶€ 
    'SchoolHoliday',       # í•™êµ ë°©í•™ 
    'StoreType_b', 'StoreType_c', 'StoreType_d',    # ì›-í•« ì¸ì½”ë”©ëœ StoreType ë³€ìˆ˜ë“¤
    'Assortment_b', 'Assortment_c',  # ì›-í•« ì¸ì½”ë”©ëœ Assortment ë³€ìˆ˜ë“¤
    'CompetitionDistance'  # ê²½ìŸ ë§¤ì¥ ê±°ë¦¬
]
```

<aside>

ë°ì´í„° ì „ì²˜ë¦¬: 

```python
# ì›-í•« ì¸ì½”ë”©ì„ 'StoreType'ê³¼ 'Assortment' ì—´ì— ì ìš©
df = pd.get_dummies(df, columns=['StoreType', 'Assortment'], drop_first=True)
```

```python
# feature ë¦¬ìŠ¤íŠ¸ì— ì—†ëŠ” ë³€ìˆ˜ë“¤ì€ ì‚­ì œ
df.drop(["Promo2SinceYear", "Promo2SinceWeek", "PromoInterval"], axis=1, inplace=True)
```

</aside>

**[ì„±ëŠ¥ í‰ê°€]**

| **Metric** | Train | Test |
| --- | --- | --- |
| **MAE** | 1624.70 | 1,657.48 |
| **RMSE** | 2447.11 | 2,490.08 |
| **R2 score** | 0.5951  | 0.5899 |
| **RMSPE** | 0.42 | 0.39 |

**[ì„¤ëª…]**

- **ê³¼ì í•© ì—¬ë¶€ íŒì •**
    - Trainê³¼ Test ë°ì´í„°ì—ì„œ MAE, RMSE, R2 ì ìˆ˜ê°€ ë§¤ìš° ìœ ì‚¬í•œ ê°’ì„ ë³´ì´ê¸° ë•Œë¬¸ì— ëª¨ë¸ì´ í›ˆë ¨ ë°ì´í„°ì— ê³¼ì í•©ë˜ì§€ ì•Šì•˜ë‹¤ê³  íŒë‹¨.
- **RÂ² score**
    - í›ˆë ¨ ë°ì´í„°ì™€ í…ŒìŠ¤íŠ¸ ë°ì´í„° ëª¨ë‘ì—ì„œ ì•½ 0.59ë¡œ, ëª¨ë¸ì´ ì „ì²´ ë³€ë™ì„±ì˜ ì•½ 59%ë¥¼ ì„¤ëª…í•˜ê³  ìˆìŒì„ ì˜ë¯¸. ëª¨ë¸ì˜ ì˜ˆì¸¡ ì„±ëŠ¥ì€ ì–´ëŠ ì •ë„ ìˆì§€ë§Œ, ê°œì„ ì˜ ì—¬ì§€ê°€ ì¡´ì¬.
- **RMSE (Root Mean Squared Error)**
    - í›ˆë ¨ ë°ì´í„°ì™€ í…ŒìŠ¤íŠ¸ ë°ì´í„°ì—ì„œ RMSE ê°’ì€ ê°ê° 2,447.11ê³¼ 2,490.08ë¡œ ë¹„ìŠ·í•˜ë©°, ì´ ì—­ì‹œ ì˜ˆì¸¡ì´ ì˜ ì´ë£¨ì–´ì¡ŒìŒ. ì˜¤ì°¨ í¬ê¸°ëŠ” í‰ê· ì ìœ¼ë¡œ 2,450ë‹¬ëŸ¬ ë‚´ì™¸ë¡œ ì¸¡ì •
- **RMSPE (Root Mean Squared Percentage Error)**: í›ˆë ¨ ë°ì´í„°ì—ì„œ 0.42, í…ŒìŠ¤íŠ¸ ë°ì´í„°ì—ì„œ 0.39ë¡œ, ìƒëŒ€ì ì¸ ì˜¤ì°¨ê°€ ì•½ 40% ë‚´ì™¸ë¡œ ë‚˜íƒ€ë‚¨. ì´ëŠ” ì˜ˆì¸¡ê°’ì˜ ìƒëŒ€ì ì¸ ì •í™•ë„ê°€ ì¼ì • ìˆ˜ì¤€ ìœ ì§€ë˜ê³  ìˆìŒì„ ë³´ì—¬ì¤Œ

**[ì‹¤ì œ ë§¤ì¶œê³¼ ì˜ˆì¸¡ ë§¤ì¶œ ê°„ ì‚°ì ë„, ì‹œê³„ì—´ ì˜ˆì¸¡, ì”ì°¨ ë¶„í¬ ë¶„ì„]**

- **ì‚°ì ë„**
    - ë§¤ì¶œì´ ì»¤ì§ˆìˆ˜ë¡ ì •í™•ë„ê°€ ë–¨ì–´ì§€ê³ , ë§¤ì¶œì´ 0 ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ì˜ˆì¸¡ ì •í™•ë„ê°€ ë–¨ì–´ì§
    
    ![actual_predict.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/actual_predict.png)
    
- **Actual vs Predicted (Date ìˆœì„œ)**
    - ì˜ˆì¸¡ê°’ì´ ì‹¤ì œê°’ì„ ì˜ ë”°ë¼ê°€ì§€ë§Œ, ì§„í­ì´ ë” í½ë‹ˆë‹¤. ì¶”ì„¸ëŠ” ì˜ ë§ì¶”ì§€ë§Œ, ë³€ë™ì„±ì„ ê³¼ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆì¸¡ê°’ì˜ ë³€ë™ì„±ì„ ì¤„ì´ëŠ” ëª¨ë¸ íŠœë‹ì´ í•„ìš”
    
    ![date.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/date.png)
    

**[ì¤‘ìš” ë…ë¦½ë³€ìˆ˜ í•´ì„]**  

![ì¤‘ìš”ë³€ìˆ˜.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25EC%25A4%2591%25EC%259A%2594%25EB%25B3%2580%25EC%2588%2598.png)

| ìˆœìœ„ | ë³€ìˆ˜ | í•´ì„ |
| --- | --- | --- |
| 1 | **DayOfWeek** | 0.6ì˜ ì¤‘ìš”ë„ë¡œ ê°€ì¥ ë†’ì€ ì˜í–¥ë ¥. ì£¼ë§ê³¼ í‰ì¼ì˜ ë§¤ì¶œ ì°¨ì´ê°€ í´ ê°€ëŠ¥ì„±ì´ ë†’ìŒ. |
| 2 | **Promo** | 0.15ì˜ ì¤‘ìš”ë„ë¡œ ë‘ ë²ˆì§¸ë¡œ ì¤‘ìš”í•œ íŠ¹ì„±ì…ë‹ˆë‹¤. í”„ë¡œëª¨ì…˜ ì§„í–‰ ì—¬ë¶€ê°€ ë§¤ì¶œì— ìƒë‹¹í•œ ì˜í–¥ì„ ë¯¸ì¹¨. |
| 3 | **CompetitionDistance** | ì•½ 0.07ì˜ ì¤‘ìš”ë„ë¡œ, ë§¤ì¥ê³¼ ê²½ìŸ ì—…ì²´ ê°„ì˜ ê±°ë¦¬ê°€ ë§¤ì¶œì— ì˜í–¥ì„ ì¤€ë‹¤ëŠ” ê²ƒì„ ë³´ì—¬ì¤Œ |
| 4 | **StoreType_b** | ì•½ 0.05ì˜ ì¤‘ìš”ë„ë¥¼ ë³´ì´ë©°, íŠ¹ì • ë§¤ì¥ ìœ í˜•ì´ ë§¤ì¶œ ì˜ˆì¸¡ì— ê¸°ì—¬ |
| 5 | **Store** | 0.03-0.04ì˜ ì¤‘ìš”ë„ë¥¼ ë³´ì´ë©°, ê°œë³„ ë§¤ì¥ì˜ íŠ¹ì„±ê³¼ ê³„ì ˆì  ìš”ì¸ë„ ë§¤ì¶œì— ì˜í–¥ |
| 6 | **Month** | ì´í•˜ìƒë™ |
| 7 | **Promo2** | ì—°ì¤‘ë°˜ë³µë˜ëŠ” í”„ë¡œëª¨ì…˜ì€ ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ì¤‘ìš”ë„ë¥¼ ê°€ì§.  |
| 8 | **Day** | ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ì¤‘ìš”ë„ |
| 9 | **Assortment_c** | ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ì¤‘ìš”ë„ |
| 10 | **SchoolHoliday** | ìƒëŒ€ì ìœ¼ë¡œ ë‚®ì€ ì¤‘ìš”ë„ |

**[ê²°ë¡ ]**

- ê²°ì • íŠ¸ë¦¬ ëª¨ë¸ë¡œ ë§¤ì¶œ ì˜ˆì¸¡ì„ ìˆ˜í–‰í•œ ê²°ê³¼, ëª¨ë¸ì€ ë§¤ì¶œ ë³€ë™ì˜ ì•½ 59%ë¥¼ ì„¤ëª…í•˜ë©° í›ˆë ¨ ë° í…ŒìŠ¤íŠ¸ ë°ì´í„°ì—ì„œ ì¼ê´€ëœ ì„±ëŠ¥ì„ ë³´ì„. íŠ¹íˆ ìš”ì¼ì´ ê°€ì¥ ì¤‘ìš”í•œ ì˜ˆì¸¡ ë³€ìˆ˜(ì¤‘ìš”ë„ 0.6)ë¡œ í™•ì¸ë˜ì—ˆìœ¼ë©°, í”„ë¡œëª¨ì…˜ê³¼ ê²½ìŸì—…ì²´ì™€ì˜ ê±°ë¦¬ë„ ì¤‘ìš”í•œ ìš”ì†Œ.
- **MSE**, **RMSE**, **MAE** ë“±ì€ ì˜ˆì¸¡ê°’ê³¼ ì‹¤ì œê°’ ê°„ì˜ ì°¨ì´ë¥¼ í‰ê°€í•˜ëŠ” ë° ìœ ìš©í•˜ì§€ë§Œ, ë§¤ì¶œê³¼ ê°™ì€ **ìˆ«ì ê·œëª¨ê°€ í° ë°ì´í„°**ì—ì„œ ì˜ˆì¸¡ ì˜¤ì°¨ê°€ ìƒëŒ€ì ìœ¼ë¡œ í¬ê²Œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆìŒ. MAE, RMSEì™€ ê°™ì€ ì ˆëŒ€ì  ì§€í‘œë³´ë‹¤ëŠ” ëŒ€ê·œëª¨ ë§¤ì¶œ ë°ì´í„°ì—ì„œ RMSPEì™€ ê°™ì€ ìƒëŒ€ì  ì§€í‘œê°€ ë” ì í•©í–ˆìœ¼ë©°, ë‹¨ì¼ íŠ¸ë¦¬ ëª¨ë¸ì˜ í•œê³„ê°€ ìˆìŒ. í–¥í›„ í•˜ì´í¼íŒŒë¼ë¯¸í„° íŠœë‹ì´ë‚˜ ì•™ìƒë¸” ëª¨ë¸ ì ìš©ì„ í†µí•´ ì˜ˆì¸¡ ì„±ëŠ¥ì„ ê°œì„ í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ ê¸°ëŒ€ë¨.

## Random Forest

```python
# ì‚¬ìš© features
features = [
    'DayOfWeek',           # ìš”ì¼ (ë§¤ì¶œ íŒ¨í„´ ì£¼ê¸°ì— ì¤‘ìš”)
    'Month', 'Day',        # ë‚ ì§œ ì •ë³´ (ê³„ì ˆì„± ë°˜ì˜)
    'Promo', 'Promo2',     # í”„ë¡œëª¨ì…˜ ì—¬ë¶€ (ë§¤ì¶œ ìƒìŠ¹ ì˜í–¥)
    'SchoolHoliday',       # í•™êµ íœ´ì¼ (íŠ¹ì • ì§€ì—­ ë§¤ì¶œì— ì˜í–¥)
    'StoreType',           # ë§¤ì¥ ìœ í˜• (ìœ í†µ ë°©ì‹ì— ë”°ë¥¸ ì°¨ì´)
    'Assortment',          # ìƒí’ˆ êµ¬ìƒ‰ (ê¸°ë³¸/í™•ì¥ ì—¬ë¶€)
    'CompetitionDistance',  # ê²½ìŸ ë§¤ì¥ ê±°ë¦¬ (ë§¤ì¶œì— ë°˜ë¹„ë¡€ ì˜í–¥)
    'StateHoliday',          # ì£¼ íœ´ì¼ (í•™êµ íœ´ì¼ê³¼ ê°™ì€ ì´ìœ ë¡œ ì¶”ê°€)
    'Sales_lag_1', 'Sales_lag_7', 'Sales_roll_mean_7' # 1ì¼, 7ì¼, 7ì¼ í‰ê·  íŒë§¤ì•¡ ì¶”ê°€
]
```

**[ëª¨ë¸ ìƒì„± > í›ˆë ¨ > ì˜ˆì¸¡ ê³¼ì •]**  

<aside>

Step 1. ë°ì´í„° ì „ì²˜ë¦¬

- ìˆ˜ì¹˜í˜•, ë²”ì£¼í˜• ë³€ìˆ˜ êµ¬ë¶„
- ë²”ì£¼í˜•ì˜ ê²½ìš° One Hot Encodingìœ¼ë¡œ ì¸ì½”ë”© ì§„í–‰
- ë” ì •í™•í•œ ì˜ˆì¸¡ ìœ„í•´ 1ì¼ì „, 7ì¼ì „ íŒë§¤ì•¡ ë“± Sales_lag feature ì¶”ê°€

Step 2. train, test ë°ì´í„°ì…‹ ë¶„ë¦¬ í›„ í•™ìŠµ ì§„í–‰

Step 3. í•™ìŠµ í›„ ì„±ê°€ì§€í‘œ í™•ì¸

- Random Forest íŒŒë¼ë¯¸í„° ì„¤ì •
    
    ```python
    from sklearn.ensemble import RandomForestRegressor
    
    rf = RandomForestRegressor(
        n_estimators= 100,
        random_state= 42
    )
    rf.fit(X_train, Y_train)
    ```
    
- MAE, RMSE, R2, RMSPE ì ìˆ˜ ì¶œë ¥
- ì‹œê°í™”ë¡œ í•´ì„

Step 4. Cross Validationìœ¼ë¡œ ì¶”ê°€ ê²€ì¦ ì§„í–‰

</aside>

**[ì„±ëŠ¥ í‰ê°€]**

| Metric | Test | Train |
| --- | --- | --- |
| MAE | 826.97 | 372.02 |
| RMSE | 1507.09 | 788.73 |
| R2 score | 0.847 | 0.95 |
| RMSPE | 0.36 | 0.14 |

**[ì„¤ëª…**]

- **Hold Out ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•œ ê²°ê³¼ Sales í‰ê·  ëŒ€ë¹„ 26%ì˜ ë³€ë™ì„±ì„ ê°€ì§** ë˜í•œ ì•½ **85% ì˜ˆì¸¡ ì •í™•ë„**ë¥¼ ë³´ì„
- **ê³¼ì í•© ì—¬ë¶€ íŒì • (Test vs Train)**
    - ì¼ë°˜ì ìœ¼ë¡œ 2ë°°ì •ë„ì˜ RMSE ì°¨ì´ëŠ” ê´œì°®ìœ¼ë‚˜, **ì•½ê°„ì˜ ê³¼ì í•©ì´ ì¡´ì¬**í•œë‹¤ê³  í•´ì„ ê°€ëŠ¥
- Cross Validation (ì°¸ì¡°)
    - K = 5ë¡œ ì„¤ì • í›„ ì§„í–‰
        
        ```python
        from sklearn.model_selection import cross_val_score
        
        rf = RandomForestRegressor(n_estimators=100, random_state=42)
        scores = cross_val_score(rf, encoded_X, Y, cv=5, scoring='neg_mean_squared_error')
        
        # RMSEë¡œ ë³€í™˜
        rmse_scores = np.sqrt(-scores)
        
        print("ê° Foldì˜ RMSE:", rmse_scores)
        print("í‰ê·  RMSE:", rmse_scores.mean())
        print("í‘œì¤€í¸ì°¨:", rmse_scores.std())
        ```
        
    
    | ê° Foldì˜ RMSE | [1328.04, 1432.47,  1294.74, 1494.75, 1417.60] |
    | --- | --- |
    | í‰ê·  RMSE | 1393.52 |
    | í‘œì¤€í¸ì°¨ | 76.65 |
    | RMSE ëŒ€ë¹„ Sales í‰ê·  | 0.24 |
    - **ì˜ˆì¸¡ê°’ì´ í‰ê· ëŒ€ë¹„ 24% ë³€ë™ì„±ì„ ê°€ì§**
        - Hold Outê³¼ ë³€ë™ì„±ì´ ë¹„ìŠ·í•˜ê¸°ì— íŠ¹ì • ë°ì´í„° ë¶„í• ì— í¬ê²Œ ì˜ì¡´í•˜ì§€ ì•ŠìŒì„ ì˜ë¯¸
        - **ì•ˆì •ì ì´ê³  ì¼ë°˜í™” ì„±ëŠ¥ì´ ìš°ìˆ˜í•œ ëª¨ë¸**

**[ì‹¤ì œ ë§¤ì¶œê³¼ ì˜ˆì¸¡ ë§¤ì¶œ ê°„ ì‚°ì ë„, ì‹œê³„ì—´ ì˜ˆì¸¡, ì”ì°¨ ë¶„í¬ ë¶„ì„]**

- **ì‚°ì ë„**
    
    ![Sales vs Predict Sales ì‚°ì ë„ (1).png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/Sales_vs_Predict_Sales_%25EC%2582%25B0%25EC%25A0%2590%25EB%258F%2584_(1).png)
    
    - ëŒ€ì²´ë¡œ ê¸°ì¤€ì„ ì— ë°€ì§‘í•´ ìˆì–´ ì˜ˆì¸¡ì´ ì˜ ìˆ˜í–‰ë¨
    - ê·¸ëŸ¬ë‚˜ ë§¤ì¶œì´ ì»¤ì§ˆìˆ˜ë¡ ì˜ˆì¸¡ ì •í™•ë„ê°€ ë–¨ì–´ì§€ê³ , Actual Salesê°€ 0ì¼ ë•Œ ì˜ˆì¸¡ ì •í™•ë„ í•˜ë½
    
- **ì”ì°¨ ë¶„ì„**
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%209.png)
    
    - ëŒ€ë¶€ë¶„ ì˜¤ì°¨ê°€ 0ì— ëª°ë ¤ìˆê³ , **ì •ê·œë¶„í¬ì— ê°€ê¹Œìš´ í˜•íƒœ**ë¥¼ ë³´ì´ê³  ìˆì–´ í¸í–¥ì´ ì‹¬í•˜ì§€ ì•Šê³ , ì¢‹ì€ ëª¨ë¸ì´ë¼ëŠ” ê²ƒì´ ë³´ì„
    - ê½¤ í° ì´ìƒì¹˜ ê°’ì´ ì¡´ì¬í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ ì •ê·œë¶„í¬ í˜•íƒœ
    
- **Actual vs Predicted (Date ìˆœì„œ)**
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2010.png)
    
    - ì „ë°˜ì  íŒ¨í„´ ì¶”ì¢… ìš°ìˆ˜
    - ëª¨ë¸ì´ í° íë¦„ì„ ì˜ ë”°ë¼ê°. ëŒ€ì²´ì ìœ¼ë¡œ ê°™ì€ ë°©í–¥ìœ¼ë¡œ  ì›€ì§ì´ê³  ìˆì–´, ê³„ì ˆì„± íë¦„ì„ ì˜ ë³´ì—¬ì¤Œ.

**[ì¤‘ìš” ë…ë¦½ë³€ìˆ˜ í•´ì„]**

![ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ì£¼ìš”ë³€ìˆ˜ (1).png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25EC%2598%2581%25ED%2596%25A5%25EC%259D%2584_%25EB%25AF%25B8%25EC%25B9%2598%25EB%258A%2594_%25EC%25A3%25BC%25EC%259A%2594%25EB%25B3%2580%25EC%2588%2598_(1).png)

| ìˆœìœ„ | ë³€ìˆ˜ | í•´ì„ |
| --- | --- | --- |
| 1 | **DayOfWeek
[0.37]** | ìš”ì¼ì— ë”°ë¼ ë§¤ì¶œ íŒ¨í„´ì´ í¬ê²Œ ë‹¬ë¦¬ì§ì„ ë°˜ì˜
ex) ì¼ìš”ì¼/ì£¼ë§ì—” íœ´ë¬´ ë§¤ì¥ì´ ë§ê³ , ì›”~ê¸ˆ ë§¤ì¶œ ì°¨ì´ê°€ í¼. |
| 2 | **Sales_lag_1
[0.33]** | í•˜ë£¨ ì „ ë§¤ì¶œì´ ì˜¤ëŠ˜ ë§¤ì¶œì„ ê±°ì˜ ì§ì ‘ì ìœ¼ë¡œ ë°˜ì˜í•œë‹¤ëŠ” ëœ». ì§ì „ì¼ì˜ ì˜í–¥ì„ ê°€ì¥ ê°•í•˜ê²Œ ë°›ìŒ. |
| 3 | **StateHoliday-0
[0.11]** | ê³µíœ´ì¼ì´ ì•„ë‹Œ ë‚ (0)ì´ë©´ ë§¤ì¶œì´ ì •ìƒì ì´ë€ ê²ƒì„ ì˜ë¯¸. ì¦‰, íœ´ì¼ ì—¬ë¶€ê°€ ë§¤ì¶œì— í° ì˜í–¥ |
| 4 | **Sales_lag_7
[0.09]** | 1ì£¼ì¼ ì „ ê°™ì€ ìš”ì¼ì˜ ë§¤ì¶œë„ íŒ¨í„´ íŒŒì•…ì— ìœ íš¨í•¨. ì£¼ê¸°ì„±(weekly seasonality)ì„ ì˜ ë°˜ì˜í•¨. |
| 5 | **Day
[0.018]** | ì›” ì•ˆì—ì„œ íŠ¹ì • ì¼(ì˜ˆ: ë§ì¼, 1ì¼ ë“±)ì— ë§¤ì¶œ íŒ¨í„´ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ. (ê¸‰ì—¬ì¼ íš¨ê³¼ ë“±) |
| 6 | **Promo
[0.018]** | í”„ë¡œëª¨ì…˜ ì—¬ë¶€ë„ ë§¤ì¶œì— ì˜í–¥ì„ ë¯¸ì¹˜ë‚˜, ìœ„ ë³€ìˆ˜ë“¤ì— ë¹„í•˜ë©´ ì˜í–¥ë„ëŠ” ìƒëŒ€ì ìœ¼ë¡œ ì‘ìŒ |
| 7 | **Sales_roll_mean_7
[0.016]** | ìµœê·¼ 1ì£¼ê°„ í‰ê·  ë§¤ì¶œ. ë‹¨ê¸° ì¶”ì„¸ë¥¼ íŒŒì•…í•˜ëŠ” ë° ê¸°ì—¬í•˜ì§€ë§Œ, ë‹¨ì¼ ì¼ì ë§¤ì¶œë³´ë‹¤ëŠ” ì¤‘ìš”ë„ê°€ ë‚®ìŒ |
| 8 | **Month
[0.012]** | ê³„ì ˆì„± ì˜í–¥ 
ì˜ˆ: ì—¬ë¦„/ê²¨ìš¸/ì—°ë§ ì‹œì¦Œ ë§¤ì¶œ ì°¨ì´ë¥¼ ë°˜ì˜, ì „ì²´ ì˜í–¥ë ¥ì€ ì‘ìŒ |
| 9 | **CompetitionDistance
[0.011]** | ê²½ìŸ ë§¤ì¥ê³¼ì˜ ê±°ë¦¬. ë©€ìˆ˜ë¡ ì˜í–¥ì´ ì ê³ , ê°€ê¹Œìš¸ìˆ˜ë¡ ë§¤ì¶œì— ë¶€ì •ì  ì˜í–¥ ê°€ëŠ¥ |
| 10 | **StoreType_b
[0.005]** | ë§¤ì¥ ìœ í˜•ì´ bì¼ ê²½ìš°ì˜ ì˜í–¥. 
íŠ¹ì • ìœ í†µë°©ì‹ì´ ì„±ê³¼ì— ì¼ë¶€ ì˜í–¥ì„ ì¤Œ |

## XGBoost

```python
features = [
    'Store', 'DayOfWeek', 'Month', 'Day',
    'Promo', 'Promo2', 'SchoolHoliday',
    'StoreType', 'Assortment',
    'CompetitionDistance',
    'Sales_lag_1', 'Sales_lag_7', 'Sales_roll_mean_7'
]
```

<aside>

Step 1. ë°ì´í„° ì „ì²˜ë¦¬

- ë§¤ì¥ì˜ ê³¼ê±° ë§¤ì¶œ íŒ¨í„´ì„ ë°˜ì˜í•˜ê¸° ìœ„í•´ ì‹œê³„ì—´ íŠ¹ì„± ìƒì„±

| ìƒì„± ë³€ìˆ˜ | ì„¤ëª… |
| --- | --- |
| Sales_lag_1 | í•˜ë£¨ ì „ ë§¤ì¶œ |
| Sales_lag_7 | 7ì¼ ì „ ë§¤ì¶œ |
| Sales_roll_mean_7 | ì§ì „ 7ì¼ê°„ í‰ê·  ë§¤ì¶œ |
- ë²”ì£¼í˜• ì¸ì½”ë”©
    - StoreType, Assortmentì€ LabelEncoderë¥¼ ì‚¬ìš©í•˜ì—¬ ìˆ˜ì¹˜í˜•ìœ¼ë¡œ ë³€í™˜
    
        â‡’ XGBoostëŠ” ë²”ì£¼í˜• ë³€ìˆ˜ë¥¼ ì§ì ‘ ì²˜ë¦¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìˆ˜ì¹˜ ë³€í™˜ì´ í•„ìš”
    
- ê²°ì¸¡ì¹˜ ì²˜ë¦¬
    - ì‹œì°¨ ë³€ìˆ˜ ìƒì„± ê³¼ì •ì—ì„œ ë°œìƒí•œ NaN ê°’ì€ ì œê±°í•˜ì—¬ í•™ìŠµì˜ ì‹ ë¢°ì„± í™•ë³´

Step 2. ëª¨ë¸ í•™ìŠµ êµ¬ì„±

- ì‚¬ìš© ëª¨ë¸: XGBoost Regressor (Booster)
- ì‚¬ìš© ë°ì´í„°: tain_store.csv
- í›ˆë ¨-ê²€ì¦ ë¶„í• : train_test_split(test_size = 0.2, random_state = 42)
- ì£¼ìš” íŒŒë¼ë¯¸í„° ì„¤ì •:
    
    ```python
    params = {
        'objective': 'reg:squarederror',
        'eval_metric': 'rmse',
        'max_depth': 6,
        'eta': 0.1,
        'seed': 42
    }
    ```
    

- max_depth í•˜ì´í¼ íŒŒë¼ë¯¸í„° íŠœë‹

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2011.png)

- ê·¸ë˜í”„ í•´ì„
    - Validation RMSEëŠ” max_depth = 6 ~ 7ê¹Œì§€ ê¾¸ì¤€íˆ ê°ì†Œí•˜ë‹¤ê°€ ì´í›„ **ì™„ë§Œí•œ ê°ì†Œ ë˜ëŠ” ì •ì²´**
    - max_depth = 9 ~ 10ì—ì„œëŠ” ê³¼ì í•© ê°€ëŠ¥ì„± ê´€ì°°: Train RMSEëŠ” í¬ê²Œ ë‚®ì§€ë§Œ Validation RMSEëŠ” í° ê°œì„  ì—†ìŒ
- **ìµœì  max_depth = 6**
    - í•™ìŠµ/ê²€ì¦ ì„±ëŠ¥ì˜ ê· í˜•ì´ ê°€ì¥ ì˜ ë§ëŠ” êµ¬ê°„
    - ëª¨ë¸ ë³µì¡ë„ ëŒ€ë¹„ ê²€ì¦ ì„±ëŠ¥ì´ ì•ˆì •ì ì´ë©° ì¼ë°˜í™” ê°€ëŠ¥ì„± ìš°ìˆ˜

Step 3. ì„±ëŠ¥ í‰ê°€ ì§€í‘œ í™•ì¸

- MAE, RMSE, R2, RMSPE ì ìˆ˜ ì¶œë ¥

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2012.png)

</aside>

**[ì„±ëŠ¥ í‰ê°€]**

| **Metric** | Train | Test |
| --- | --- | --- |
| **MAE** | 642.22 | 643.70 |
| **RMSE** | 1069.47 | 1073.60 |
| **R2 score** | 0.92 | 0.92 |
| **RMSPE** | 0.23 | 0.16 |

**[ì„¤ëª…]**

- Trainê³¼ Test ê°„ì˜ ëª¨ë“  ì§€í‘œì˜ ì°¨ì´ê°€ ë§¤ìš° ì‘ìŒ â†’ ê³¼ì í•©(Overfitting) ë˜ì§€ ì•Šì•˜ìŒì„ ì‹œì‚¬
- **ë†’ì€ RÂ²(0.92)** ì™€ **ë‚®ì€ RMSE/MAE**ëŠ” ì´ ëª¨ë¸ì´ **ì •í™•í•˜ë©´ì„œë„ ì¼ë°˜í™”ëœ ì˜ˆì¸¡ ì„±ëŠ¥**ì„ ê°€ì§
- RMSPE ê´€ì ì—ì„œ ê²€ì¦ ë°ì´í„°ì—ì„œ RMSPEê°€ ë” ë‚®ì€ ê²ƒì€ ëª¨ë¸ì´ ë‹¤ì–‘í•œ ë§¤ì¶œ ê·œëª¨ì—ì„œë„ ì•ˆì •ì ì¸ ë¹„ìœ¨ë¡œ ì˜¤ì°¨ë¥¼ ìœ ì§€

**[ì‹¤ì œ ë§¤ì¶œê³¼ ì˜ˆì¸¡ ë§¤ì¶œ ê°„ ì‚°ì ë„, ì‹œê³„ì—´ ì˜ˆì¸¡, ì”ì°¨ ë¶„í¬ ë¶„ì„]**

- **ì‚°ì ë„**
    - ëŒ€ë¶€ë¶„ì˜ ë°ì´í„°ê°€ ëŒ€ê°ì„  ê·¼ì²˜ì— ë¶„í¬ â†’ ì˜ˆì¸¡ì´ ì „ë°˜ì ìœ¼ë¡œ ì˜ ë§ìŒ
    - ì €ë§¤ì¶œ êµ¬ê°„(0 ~ 5000)ì—ì„œ ë°ì´í„°ê°€ ë°€ì§‘ë˜ì–´ ìˆê³  ë‹¤ì†Œ ì‚°ê°œ â†’ ì €ë§¤ì¶œì¼ìˆ˜ë¡ ì˜ˆì¸¡ ì •í™•ë„ê°€ ë‚®ì•„ì§€ëŠ” ê²½í–¥
    - ì¤‘ë§¤ì¶œ êµ¬ê°„(5000 ~ 25000)ì—ì„œ ëŒ€ë¶€ë¶„ ì˜ˆì¸¡ì´ ì˜ ì¼ì¹˜í•˜ë©° ëª¨ë¸ì˜ ì„±ëŠ¥ì´ ê°€ì¥ ì•ˆì •ì ì¸ êµ¬ê°„
    - ê³ ë§¤ì¶œ êµ¬ê°„(25000 ì´ìƒ)ì—ì„œ ì¼ë¶€ ì˜ˆì¸¡ê°’ì´ ì‹¤ì œë³´ë‹¤ ë‚®ìŒ â†’ ê³ ë§¤ì¶œì¼ìˆ˜ë¡ ê³¼ì†Œ ì˜ˆì¸¡ ê²½í–¥ ì¡´ì¬
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2013.png)
    

- **Actual vs Predicted (Date ìˆœì„œ)**
    - ì „ë°˜ì ì¸ íŒ¨í„´ ì¶”ì¢… ìš°ìˆ˜:
        
        ì˜ˆì¸¡ê°’(Predicted)ì€ ì‹¤ì œê°’(Actual)ê³¼ ë§¤ìš° ìœ ì‚¬í•œ ì¶”ì´ë¥¼ ë³´ì´ë©° ëŒ€ë¶€ë¶„ì˜ ìƒìŠ¹Â·í•˜ê°• êµ¬ê°„ì—ì„œ íë¦„ì„ ìœ ì‚¬í•˜ê²Œ ë°˜ì˜
        
    - í”¼í¬ êµ¬ê°„ ì˜ˆì¸¡ë ¥ ì–‘í˜¸:
        
        ë§¤ì¶œ ê¸‰ê°/ê¸‰ì¦ ì‹œì ì—ì„œë„ ëª¨ë¸ì´ ê¸‰ê²©í•œ ì¶”ì„¸ ë³€í™”ë¥¼ ì˜ í•™ìŠµí•œ ê²ƒìœ¼ë¡œ ë³´ì„
        
    - ì˜ˆì¸¡ ê³¼ëŒ€/ê³¼ì†Œ êµ¬ê°„ ë¯¸ë¯¸:
        
        ì¼ë¶€ êµ¬ê°„ì—ì„œ ì˜ˆì¸¡ì¹˜ê°€ ì‹¤ì œì¹˜ë³´ë‹¤ ì†Œí­ ë‚®ê±°ë‚˜ ë†’ì€ ê²½í–¥ì´ ìˆìœ¼ë‚˜, ì „ë°˜ì ì¸ ì˜ˆì¸¡ ì˜¤ì°¨ëŠ” ì œí•œì 
        
    
    ![ìŠ¤í¬ë¦°ìƒ· 2025-03-31 111535.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/%25EC%258A%25A4%25ED%2581%25AC%25EB%25A6%25B0%25EC%2583%25B7_2025-03-31_111535.png)
    

- **ì”ì°¨ ë¶„ì„**
    - ì”ì°¨ê°€ ì •ê·œ ë¶„í¬ í˜•íƒœì— ê°€ê¹Œì›Œ ì”ì°¨(ì‹¤ì œ-ì˜ˆì¸¡)ì˜ ì¤‘ì‹¬ì´ 0 ê·¼ì²˜ì— ëŒ€ì¹­ì ìœ¼ë¡œ ëª°ë ¤ìˆë‹¤
    - ëª¨ë¸ì´ ì˜ˆì¸¡ì„ ì „ë°˜ì ìœ¼ë¡œ ì˜í•˜ê³  ìˆìŒ
    
    ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2014.png)
    

**[ì¤‘ìš” ë…ë¦½ë³€ìˆ˜ í•´ì„]**

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2015.png)

| **ìˆœìœ„** | **ë³€ìˆ˜** | **í•´ì„** |
| --- | --- | --- |
| 1 | **Sales_lag_7** | ì¼ì£¼ì¼ ì „ ë§¤ì¶œ: ìš”ì¼ ì£¼ê¸°ë¥¼ ê°•í•˜ê²Œ ë°˜ì˜í•¨(ê°€ì¥ ì¤‘ìš”) |
| 2 | **Day** | ì¼ì ì •ë³´: ì›” ì´ˆ/ë§, íŠ¹ì • ë‚ ì§œ(ì˜ˆ: 15ì¼, 30ì¼ ë“±)ì˜ ì˜í–¥ ë°˜ì˜ ê°€ëŠ¥ |
| 3 | **Store** | ë§¤ì¥ ID: ë§¤ì¥ë³„ íŠ¹ì„± ë°˜ì˜. ê³ ìœ  ë§¤ì¶œ íŒ¨í„´ì´ ìˆìŒ |
| 4 | **Sales_lag_1** | ì–´ì œ ë§¤ì¶œ: ì „ì¼ ì˜í–¥ì„ ë§ì´ ë°›ìŒ. ë§¤ì¶œì˜ ì—°ì†ì„± ë°˜ì˜ |
| 5 | **Sales_roll_mean_7** | ìµœê·¼ 7ì¼ í‰ê·  ë§¤ì¶œ: ë§¤ì¶œ ì¶”ì„¸ë¥¼ ë°˜ì˜í•¨ |
| 6 | **CompetitionDistance** | ê²½ìŸ ë§¤ì¥ ê±°ë¦¬: ê°€ê¹Œìš¸ìˆ˜ë¡ ë§¤ì¶œì— ë¶€ì •ì  ì˜í–¥ ê°€ëŠ¥ |
| 7 | **Month** | ì›” ì •ë³´: ê³„ì ˆì„± ë˜ëŠ” ì›”ë³„ íŒ¨í„´ ë°˜ì˜ |
| 8 | **DayOfWeek** | ìš”ì¼ ì •ë³´: ìš”ì¼ë³„ ë§¤ì¶œ ì°¨ì´ ë°˜ì˜(ì˜ˆ: ì£¼ë§, í‰ì¼) |

## 3. ê²°ë¡ : ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ ë° í•´ì„ & ìµœì¢… ëª¨ë¸ ì„ ì •

### 3-1.  êµ¬í˜„ëœ ë§¤ì¶œ ì˜ˆì¸¡ ëª¨ë¸ ê²°ê³¼

**[ê° ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ]**

| í‰ê°€ê¸°ì¤€ | Linear Regression | Decision Tree | Random Forest | **XGBoost** |
| --- | --- | --- | --- | --- |
| MAE | 1950.04 | 1624.70 | 826.97 | **643.7** |
| RMSE | 2579.74 | 2447.11 | 1507.09 | **1073.06** |
| RÂ²  | 0.55 | 0.60 | 0.85 | **0.92** |
| RMSPE | 0.42 |  0.39 | 0.32 | **0.23** |
- ì°¸ê³  - í‰ê°€ê¸°ì¤€ ì„¤ëª…
    - MAE: ì‹¤ì œê°’ê³¼ ì˜ˆì¸¡ê°’ì˜ ì ˆëŒ€ ì˜¤ì°¨ì˜ í‰ê· (ê°’ì´ ì‘ì„ìˆ˜ë¡ ì¢‹ìŒ)
    - RMSE: ì˜¤ì°¨ì˜ ì œê³± í‰ê· ì— ë£¨íŠ¸ë¥¼ ì”Œìš´ ê°’(ê°’ì´ ì‘ì„ ìˆ˜ë¡ ì¢‹ìŒ)
    - RÂ²: ê²°ì •ê³„ìˆ˜, 1ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ëª¨ë¸ì´ ë°ì´í„°ë¥¼ ì˜ ì„¤ëª…í•œë‹¤ëŠ” ì˜ë¯¸(ê°’ì´ ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ)
        
        **â‡’ XGBoost ëª¨ë¸ì„ ìµœì  ëª¨ë¸ë¡œ ì„¤ì •**
        
    - RMSPE: ì˜ˆì¸¡ ì˜¤ì°¨ë¥¼ ì‹¤ì œê°’ ëŒ€ë¹„ ë¹„ìœ¨ë¡œ ê³„ì‚°í•´ì„œ í‰ê· í•œ ë’¤, ì œê³±ê·¼ì„ ì·¨í•œ ì§€í‘œ (ê°’ì´ ì‘ì„ ìˆ˜ë¡ ì¢‹ìŒ)
        - ì°¸ê³  - inf ê³„ì‚°ì•ˆë¨(ì‹¤ì œê°’ì— 0ì´ í¬í•¨ë˜ì–´ì„œ ë‚˜ëˆ„ê¸°ê°€ ì•ˆë¨)
        - ì°¸ê³  - 0í¬í•¨ ë˜ì–´ì„œ ë‚˜ëˆ„ê¸° ì•ˆë ë•Œ RMSPE ê³„ì‚°
            
            ![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2016.png)
            

### 3-2.  ìµœì¢… ëª¨ë¸ ì„ ì • : XGBoost ëª¨ë¸

**[ëª¨ë¸ ìš”ì•½: Feature Importance]**

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2015.png)

- ë§¤ì¶œ ì—°ì†ì„±: Sales_lag_7ê³¼ Sales_lag_1ì€ ë§¤ì¶œ ì˜ˆì¸¡ì— ì¤‘ìš”í•œ ì—­í• ì„ í•˜ë©°, ê³¼ê±° ë§¤ì¶œ ë°ì´í„°ë¥¼ ì˜ ë°˜ì˜
- ê²½ìŸ í™˜ê²½: Storeì™€ CompetitionDistanceëŠ” ë§¤ì¥ íŠ¹ì„± ë° ê²½ìŸ ìƒí™©ì„ ê³ ë ¤í•œ ì¤‘ìš”í•œ ìš”ì†Œ.
- ë‚ ì§œ ë° ìš”ì¼: Dayì™€ DayOfWeekëŠ” ë‚ ì§œë³„, ìš”ì¼ë³„ ë§¤ì¶œ íŒ¨í„´ì„ ë°˜ì˜.
- ì¶”ì„¸ ë° ê³„ì ˆì„±: Sales_roll_mean_7ê³¼ MonthëŠ” ë§¤ì¶œ ì¶”ì„¸ì™€ ê³„ì ˆì„±ì„ ë°˜ì˜.

**[SHAP ë¶„ì„ ì¸ì‚¬ì´íŠ¸]**

- ì°¸ê³  - SHAP(Shapley Additive exPlanations)ì„¤ëª…
    
    ì„ í™œìš©í•˜ë©´ ê° íŠ¹ì„±ì´ ì˜ˆì¸¡ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì •ëŸ‰ì ìœ¼ë¡œ íŒŒì•…
    
    1. **íŠ¹ì„± ì¤‘ìš”ë„ í‰ê°€:**
        - ê° íŠ¹ì„±ì´ ì˜ˆì¸¡ì— ì–¼ë§ˆë‚˜ ê¸°ì—¬í•˜ëŠ”ì§€ í‰ê°€í•˜ì—¬, ëª¨ë¸ì´ ì–´ë–¤ íŠ¹ì„±ì— ì£¼ë¡œ ì˜ì¡´í•˜ëŠ”ì§€ íŒŒì•…
    2. **íŠ¹ì„± ì˜í–¥ë ¥ ë¶„ì„:**
        - íŠ¹ì„±ì˜ ê°’ì´ ì˜ˆì¸¡ ê²°ê³¼ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì‹œê°í™”í•˜ì—¬, íŠ¹ì • íŠ¹ì„±ì´ ì˜ˆì¸¡ì„ ì–´ë–»ê²Œ ë³€í™”ì‹œí‚¤ëŠ”ì§€ ì´í•´
    3. **ìƒí˜¸ì‘ìš© íš¨ê³¼ íƒì§€:**

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2017.png)

- í”„ë¡œëª¨ì…˜ (Promo): í”„ë¡œëª¨ì…˜ì€ ë§¤ì¶œì„ ë†’ì´ëŠ” ì¤‘ìš”í•œ ìš”ì†Œë¡œ, ë§ˆì¼€íŒ… íš¨ê³¼ë¥¼ ë’·ë°›ì¹¨.
- ì£¼ë§ ë§¤ì¶œ: ì£¼ë§ì€ ë§¤ì¶œì´ ë‚®ì•„ì§€ëŠ” ê²½í–¥, ì£¼ë§ ë§¤ì¶œì„ ê°œì„ í•  ì „ëµ í•„ìš”.
- ì—°ë§ íŠ¹ìˆ˜: ì—°ë§ì— ë§¤ì¶œì´ ì¦ê°€í•˜ëŠ” ê²½í–¥, ê³„ì ˆì„±ì— ë§ì¶˜ ì „ëµ í•„ìš”.
- ê²½ìŸê³¼ ìƒê¶Œ: ê²½ìŸì´ ê°€ê¹Œìš´ ë§¤ì¥ì´ ì˜¤íˆë ¤ ë§¤ì¶œì´ ë†’ì€ ê²½í–¥, ìƒê¶Œ ë¶„ì„ ë° ê²½ìŸ ì „ëµ ê°•í™” í•„ìš”.

### 3-3. XGBoost ê¸°ë°˜ í–¥í›„ 6ì£¼ê°„ ë§¤ì¶œ ì˜ˆì¸¡

![image.png](%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%203%20%E1%84%83%E1%85%B3%E1%84%85%E1%85%A5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%A9%E1%84%8B%E1%85%A5%20%E1%84%91%E1%85%A1%E1%86%AB%E1%84%86%E1%85%A2%E1%84%8B%E1%85%A2%E1%86%A8%20%E1%84%8B%E1%85%A8%E1%84%8E%E1%85%B3%E1%86%A8%E1%84%86%E1%85%A9%E1%84%83%E1%85%A6%E1%86%AF%201c9339280c3780f893e5da20a02eee3c/image%2018.png)

- í–¥í›„ 6ì£¼ê°„ì˜ ë§¤ì¶œì€ ë¹„ì„ í˜•ì ì¸ íë¦„ì„ ë³´ì´ë©° 2015ë…„ 8ì›” ì´ˆì— ë§¤ì¶œì´ ê¸‰ë“±í•  ê°€ëŠ¥ì„±ì´ ë†’ìŒ
- ì „ì²´ì ìœ¼ë¡œ ì˜ˆì¸¡ ë§¤ì¶œì€ ìƒìŠ¹-í•˜ë½-íšŒë³µì„ ë°˜ë³µí•˜ëŠ” ë³€ë™ì„±ì´ ë†’ì€ íë¦„
- ë§¤ì¶œ ì˜ˆì¸¡ê°’: ì˜ˆì¸¡ê°’ì— ê¸°ë°˜í•˜ì—¬ **íƒ„ë ¥ì ** ë¹„ì¦ˆë‹ˆìŠ¤ ìš´ì˜ ì „ëµ ìˆ˜ë¦½ ì‹œ í™œìš© ê°€ëŠ¥ ****

| í¬ì¸íŠ¸ | ì„¤ëª… |
| --- | --- |
| **ì˜ˆì¸¡ëœ ë§¤ì¶œ í”¼í¬ ì£¼ê°„ì— í”„ë¡œëª¨ì…˜ ì§‘ì¤‘** | 8ì›” ì´ˆ ë§¤ì¶œ í”¼í¬ê°€ ì˜ˆì¸¡ë˜ë¯€ë¡œ í•´ë‹¹ ì‹œê¸°ì— ì œí’ˆ **ì¬ê³  í™•ë³´, ë§ˆì¼€íŒ… ì˜ˆì‚° ì¦ì•¡** ë“±ì˜ ì „ëµ ê³ ë ¤ |
| **ì•ˆì •ì  ë§¤ì¶œ êµ¬ê°„ì€ ë¹„ìš© ìµœì í™” ì „ëµ ì ìš© ê°€ëŠ¥** | 8ì›” ì¤‘ìˆœ~9ì›” ì´ˆì—ëŠ” ê³ ì •ë¹„ ì ˆê°, íš¨ìœ¨ ìš´ì˜ ì¤‘ì‹¬ì˜ ì „ëµì„ êµ¬ì„±í•´ë³¼ ìˆ˜ ìˆìŒ |